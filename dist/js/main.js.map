{"version":3,"sources":["webpack:///webpack/bootstrap 36bbf9c9e2415b3098c2","webpack:///./src/js/main.js","webpack:///./node_modules/shopify-buy/index.js","webpack:///./node_modules/js-cookie/src/js.cookie.js"],"names":["GWS","mobileThreshold","fetchProductMeta","bind","updateActiveCurrency","$cartCounter","$","$product","$addToCartButton","$currencySelectHolder","checkoutIdCookieKey","currencyCookieKey","variantIdInputClass","priceWrapperClass","quantitySelectClass","variantSelectClass","producePriceAttr","productHandleAttr","productAvailableAttr","postIdAttr","productInCartAttr","$cart","$cartItemsContainer","cartItemClass","$cartItem","$checkoutContainer","cartRemoveClass","cartItemIdAttr","cartThumbClass","cartTitleClass","cartVariantTitleClass","cartPriceClass","cartQuantityClass","cartAttributeClass","cartAttributeKey","cartItemSubtotalClass","cartSubtotalSelector","cartUpdateEventType","cartEmptyAttr","productIdAttr","cartCheckoutSelector","window","resize","onResize","on","onReady","document","ready","Shopify","domain","storefrontAccessToken","client","Client","buildClient","setInitialCurrency","length","initProducts","initCartSection","console","error","each","currencies","html","$currencySelect","forEach","append","currency","code","val","activeCurrency","cookieCurrency","Cookies","get","initCheckout","buildCurrencySelect","shop","fetchInfo","then","currencyCode","set","checkout","lineItems","item","i","push","quantity","variantId","variant","id","create","presentmentCurrencyCode","updateCart","expires","checkoutId","fetch","catch","log","index","element","productHandle","attr","setProductAvailability","product","fetchByHandle","productAvailable","variants","updateProductVariant","productInCart","localStorage","getItem","updateProductInCartStatus","generateOptions","handleAddToCart","status","attrValue","itemsToAdd","getQuantityAndVariant","getProductInCartStatus","addLineItems","dispatchCartUpdateEvent","postId","setItem","addClass","available","$priceWrapper","find","$variantIdInput","price","compareAtPrice","setVariantId","getSelectedVariant","$quantitySelect","parseInt","options","map","hidden","option","name","optionHtml","values","value","selectedOptions","elem","matchFound","variantOptions","v","j","k","cartItemHtml","outerHTML","handleCartQuantity","handleRemoveItems","handleCartAttributeUpdate","webUrl","paymentDue","generateCartItemsRows","bindCartInputs","updateSubtotal","bindRemoveItems","items","removeCartItems","productId","$cartThumb","$cartTitle","$cartVariantTitle","$cartQuantity","$cartSubtotal","imageSrc","image","src","variantTitle","title","css","path","itemSlug","WP","siteUrl","text","$cartRemoveItem","e","target","closest","$cartItemSubtotal","cartItemId","updateLineItems","key","type","checked","toString","input","customAttributes","updateAttributes","event","removeItem","removeLineItems","context","dispatchEvent","CustomEvent","detail","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck$1","instance","Constructor","TypeError","createClass$1","defineProperties","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","inherits$1","subClass","superClass","setPrototypeOf","__proto__","possibleConstructorReturn$1","self","call","ReferenceError","join","_len","arguments","fields","Array","_key","isObject","Boolean","valueOf","deepFreezeCopyExcept","predicate","structure","freeze","keys","reduce","copy","isArray","schemaForType","typeBundle","typeName","types","Error","classCallCheck","createClass","_extends","assign","source","hasOwnProperty","inherits","possibleConstructorReturn","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","toConsumableArray","arr2","from","VariableDefinition","defaultValue","toInputValueString","defaultValueString","formatInputValue","isVariable","isPrototypeOf","variable","Enum","enumFunction","Scalar","get$$1","String","JSON","stringify","apply","formatObject","openChar","closeChar","argPairs","formatArgs","args","noop","Profiler","trackTypeDependency","trackFieldDependency","parseFieldCreationArgs","creationArgs","callback","selectionSet","_creationArgs","_creationArgs2","SelectionSet","emptyArgs","Field","alias","responseKey","aliasPrefix","Spread","InlineFragment","_Spread","_this","getPrototypeOf","FragmentSpread","_Spread2","fragmentDefinition","_this2","toDefinition","FragmentDefinition","typeSchema","spread","selectionsHaveIdField","selections","some","fieldOrFragment","implementsNode","selectionsHaveTypenameField","indexSelectionsByResponseKey","assignOrPush","unfrozenObject","acc","selection","responseKeys","selectionsByResponseKey","builderFunction","SelectionSetBuilder","unshift","kind","hasSelectionWithResponseKey","field","add","selectionOrFieldName","rest","concat","_len2","_key2","parsedArgs","fieldBaseTypes","fieldBaseType","inlineFragmentOn","builderFunctionOrSelectionSet","addField","_len3","_key3","addConnection","_len4","_key4","_parseFieldCreationAr","connection","pageInfo","edges","addInlineFragmentOn","fieldTypeCb","addFragment","fragmentSpread","parseArgs","variables","selectionSetCallback","_args","VariableDefinitions","variableDefinitions","Operation","operationType","_parseArgs","queryType","mutationType","nameString","Query","_Operation","_ref","Mutation","isAnonymous","operation","hasAnonymousOperations","operations","hasDuplicateOperationNames","names","hasDuplicates","indexOf","extractOperation","Function","isInvalidOperationCombination","fragmentNameIsNotUnique","existingDefinitions","definition","Document","definitions","addOperation","addQuery","addMutation","defineFragment","onType","fragmentDefinitions","fragment","filter","GraphModel","attrs","ClassRegistry","classStore","registerClassForType","unregisterClassForType","classForType","isValue","arg","isNodeContext","isConnection","endsWith","nearestNode","parent","contextsFromRoot","contextsFromNearestNode","initializeDocumentAndVars","currentContext","contextChain","lastInChain","first","firstVar","addNextFieldTo","currentSelection","cursor","nextContext","shift","newSelection","edgesField","nodeField","after","collectFragments","nextPageQueryAndPath","nearestNodeContext","_document$definitions","nodeType","nodeId","responseData","_initializeDocumentAn","_initializeDocumentAn2","root","node","slice","fragments","_document$definitions2","_initializeDocumentAn3","_initializeDocumentAn4","hasNextPage$1","edge","hasNextPage","hasPreviousPage","transformConnections","variableValues","DecodingContext","contextForObjectProperty","nestedSelections","nextSelection","contextForArrayItem","decodeArrayItems","transformers","decodeContext","decodeObjectValues","runTransformers","transformer","generateRefetchQueries","refetchQuery","transformPojosToClassesWithRegistry","classRegistry","transformPojosToClasses","Klass","transformScalars","recordTypeInformation","__typename","defaultTransformers","_ref$classRegistry","decode","httpFetcher","url","fetcher","graphQLParams","body","method","mode","headers","Accept","response","json","paginatedModels","Client$2","fetcherOptions","_ref$registry","registry","query","mutation","send","request","otherProperties","operationOrDocument","operationName","documentOperation","data","model","fetchNextPage","nodeOrNodes","_node$nextPageQueryAn","_node$nextPageQueryAn2","object","fetchAllPages","_ref2","pageSize","_ref3","pages","Promise","resolve","refetch","_ref4","variable$$1","_enum","Config","accessToken","apiKey","deprecatedProperties","warn","requiredProperties","Resource","graphQLClient","defaultErrors","message","defaultResolver","split","errors","reject","result","ref","_","fetchResourcesForProducts","productOrProduct","products","all","promiseAcc","images","paginateProductConnectionsAndResolve","paginateCollectionsProductConnectionsAndResolve","collectionOrCollections","collections","collection","productHelpers","variantForOptions","every","selectedOption","spreads","__defaultOperation__","VariantFragment","ProductFragment","query$1","ids","nodes","query$2","sortKey","reverse","query$3","handle","productByHandle","ProductResource","_Resource","fetchAll","fetchMultiple","fetchQuery","_ref$first","_ref$sortKey","query$$1","query$4","CollectionFragment","query$5","CollectionsProductsFragment","query$6","query$7","productsFirst","query$8","collectionByHandle","CollectionResource","fetchAllWithProducts","_ref$productsFirst","fetchWithProducts","_ref2$first","_ref2$sortKey","query$9","primaryDomain","query$10","PolicyFragment","privacyPolicy","termsOfService","refundPolicy","ShopResource","fetchPolicies","handleCheckoutMutation","mutationRootKey","rootData","rootModel","userErrors","query$11","VariantWithProductFragment","MailingAddressFragment","CheckoutFragment","shippingAddress","shippingLine","order","query$12","UserErrorFragment","checkoutCreate","query$13","checkoutLineItemsAdd","query$14","lineItemIds","checkoutLineItemsRemove","query$15","checkoutLineItemsUpdate","query$16","checkoutAttributesUpdate","query$17","checkoutDiscountCodeApply","discountCode","query$18","checkoutEmailUpdate","email","CheckoutResource","updateEmail","addDiscount","imageHelpers","imageForSize","maxWidth","maxHeight","splitUrl","notQuery","imageTokens","imagePathIndex","ImageResource","version","QueryRoot","Node","ID","String$1","Boolean$1","DateTime","MailingAddress","Float","PageInfo","Int","Order","Money","CurrencyCode","URL","OrderLineItemConnection","OrderLineItemEdge","OrderLineItem","ProductVariant","Image","SelectedOption","Product","CollectionConnection","CollectionEdge","Collection","HTML","ProductConnection","ProductEdge","ImageConnection","ImageEdge","ProductOption","ProductVariantConnection","ProductVariantEdge","Attribute","Shop","Domain","ShopPolicy","Mutation$1","CheckoutAttributesUpdatePayload","UserError","Checkout","CheckoutLineItemConnection","CheckoutLineItemEdge","CheckoutLineItem","ShippingRate","CheckoutCreatePayload","CheckoutEmailUpdatePayload","CheckoutLineItemsAddPayload","CheckoutLineItemsRemovePayload","CheckoutLineItemsUpdatePayload","Types","subscriptionType","recursivelyFreezeObject","getOwnPropertyNames","config","fetchFunction","newConfig","GraphQLClientClass","models","module","exports","factory","registeredInModuleLoader","define","OldCookies","api","noConflict","extend","attributes","init","converter","defaults","Date","setMilliseconds","getMilliseconds","toUTCString","test","write","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","rdecode","parts","charAt","read","parse","getJSON","remove","withConverter"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 36bbf9c9e2415b3098c2","/* jshint esversion: 6, browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, Shopify, WP */\nimport Client from 'shopify-buy';\nimport Cookies from 'js-cookie';\n\nclass GWS {\n  constructor() {\n    this.mobileThreshold = 601;\n\n    this.fetchProductMeta = this.fetchProductMeta.bind(this);\n    this.updateActiveCurrency = this.updateActiveCurrency.bind(this);\n\n    this.$cartCounter = $('.gws-cart-counter');\n    this.$product = $('.gws-product');\n    this.$addToCartButton = $('.gws-product-add');\n    this.$currencySelectHolder = $('.gws-currency-select-holder');\n    this.checkoutIdCookieKey = 'gwsCheckoutId';\n    this.currencyCookieKey = 'gwsCurrency'\n    this.variantIdInputClass = '.gws-variant-id';\n    this.priceWrapperClass = '.gws-product-price';\n    this.quantitySelectClass = '.gws-quantity-select';\n    this.variantSelectClass = '.gws-variant-select';\n    this.producePriceAttr = 'data-gws-price';\n    this.productHandleAttr = 'data-gws-product-handle';\n    this.productAvailableAttr = 'data-gws-available';\n    this.postIdAttr = 'data-gws-post-id';\n    this.productInCartAttr = 'data-gws-in-cart';\n\n    this.$cart = $('.gws-cart');\n    this.$cartItemsContainer = $('.gws-cart-items');\n    this.cartItemClass = '.gws-cart-item';\n    this.$cartItem = $(this.cartItemClass);\n    this.$checkoutContainer = $('.gws-cart-checkout');\n    this.cartRemoveClass = '.gws-cart-remove';\n    this.cartItemIdAttr = 'data-gws-cart-item-id';\n    this.cartThumbClass = '.gws-cart-thumb';\n    this.cartTitleClass = '.gws-cart-title';\n    this.cartVariantTitleClass = '.gws-cart-variant-title';\n    this.cartPriceClass = '.gws-cart-price';\n    this.cartQuantityClass = '.gws-cart-quantity';\n    this.cartAttributeClass = '.gws-cart-attribute';\n    this.cartAttributeKey = 'data-gws-cart-attr-key';\n    this.cartItemSubtotalClass = '.gws-cart-item-subtotal';\n    this.cartSubtotalSelector = '#gws-cart-subtotal';\n    this.cartUpdateEventType = 'gwsCartUpdate';\n    this.cartEmptyAttr = 'data-gws-cart-empty';\n    this.productIdAttr = 'data-gws-product-id';\n    this.cartCheckoutSelector = '.gws-checkout-link';\n\n    $(window)\n      .resize(this.onResize.bind(this)) // Bind resize\n      .on('ajaxySuccess', this.onReady.bind(this)); // Bind ajaxSuccess (custom event, comes from Ajaxy)\n\n    $(document).ready(this.onReady.bind(this));\n  }\n\n  onResize() {\n  }\n\n  onReady() {\n    // Check shopify api data\n    if(Shopify.domain !== null && Shopify.storefrontAccessToken !== null) {\n      const { domain, storefrontAccessToken } = Shopify;\n\n      // Init Shopify client\n      this.client = Client.buildClient({\n        domain,\n        storefrontAccessToken,\n      });\n\n      this.setInitialCurrency();\n\n      if (this.$product.length) { // Archive products page\n        this.initProducts();\n      }\n\n      if (this.$cart.length) { // Cart is present\n        this.initCartSection();\n      }\n\n    } else {\n      console.error('Shopify URL and/or token missing');\n    }\n  }\n\n  initProducts() {\n    this.$product.each(this.fetchProductMeta);\n  }\n\n  /**\n   * Add currency select options\n   */\n  buildCurrencySelect() {\n    if (this.$currencySelectHolder.length && Shopify.currencies !== null) {\n      // add select element\n      this.$currencySelectHolder.html('<select class=\"gws-currency-select\"></select>');\n      this.$currencySelect = $('.gws-currency-select');\n\n      // add options to select element\n      Shopify.currencies.forEach(currency => {\n        this.$currencySelect.append('<option value=\"' + currency.code + '\">' + currency.code + '</option>')\n      });\n\n      // set select value\n      this.$currencySelect.val(this.activeCurrency);\n\n      // bind currency select change handler\n      this.$currencySelect.on('change', this.updateActiveCurrency);\n    }\n  }\n\n  /**\n   * Set initial currency\n   */\n  setInitialCurrency() {\n    // Get active currency from cookies\n    let cookieCurrency = Cookies.get(this.currencyCookieKey);\n\n    if (cookieCurrency) {\n      this.activeCurrency = cookieCurrency;\n      this.initCheckout();\n      this.buildCurrencySelect();\n    } else {\n      this.client.shop.fetchInfo().then((shop) => {\n        this.activeCurrency = shop.currencyCode;\n        Cookies.set(this.currencyCookieKey, this.activeCurrency);\n        this.initCheckout();\n        this.buildCurrencySelect();\n      });\n    }\n  }\n\n  /**\n   * Update active currency\n   */\n  updateActiveCurrency() {\n    this.activeCurrency = this.$currencySelect.val();\n\n    // set active currency in cookies\n    Cookies.set(this.currencyCookieKey, this.activeCurrency);\n\n    if (this.checkout) {\n      let lineItems = [];\n\n      if (this.checkout.lineItems) {\n        this.checkout.lineItems.forEach((item, i) => {\n          lineItems.push({\n            quantity: item.quantity,\n            variantId: item.variant.id\n          });\n        });\n      }\n\n      // Create an empty checkout\n      this.client.checkout.create({\n        presentmentCurrencyCode: this.activeCurrency,\n        lineItems\n      })\n        .then((checkout) => {\n          // Do something with the checkout\n          // console.log('EMPTY CHECKOUT CREATED', checkout);\n\n          // Save checkout in object\n          this.checkout = checkout;\n\n          this.updateCart(checkout);\n\n          // Save the shopifyCheckoutId in a cookie\n          Cookies.set(this.checkoutIdCookieKey, checkout.id, { expires: 7 }); // Expires in 7 days\n        });\n    }\n    //console.log(this.checkout.lineItems[0].variant.id);\n  }\n\n  /**\n   * Init the Shopify checkout, current or new\n   */\n  initCheckout() {\n    // Get shopifyCheckoutId from cookies\n    this.checkoutId = Cookies.get(this.checkoutIdCookieKey);\n\n    // If shopifyCheckoutId already exists (means there was already a cart initiated before)\n    if (this.checkoutId) {\n\n      // Fetch existing checkout by its checkoutId\n      this.client.checkout.fetch(this.checkoutId)\n        .then(checkout => {\n          // Do something with the checkout\n          // console.log('EXISTING CHECKOUT', checkout);\n\n          // Save the checkout in object\n          this.checkout = checkout;\n\n          // Update cart display\n          this.updateCart(checkout);\n\n        }).catch( error => {\n          console.log(error);\n        });\n\n    } else { // Non existing checkout\n\n      // Create an empty checkout\n      this.client.checkout.create({\n        presentmentCurrencyCode: this.activeCurrency\n      })\n        .then((checkout) => {\n          // Do something with the checkout\n          // console.log('EMPTY CHECKOUT CREATED', checkout);\n\n          // Save checkout in object\n          this.checkout = checkout;\n\n          // Save the shopifyCheckoutId in a cookie\n          Cookies.set(this.checkoutIdCookieKey, checkout.id, { expires: 7 }); // Expires in 7 days\n        });\n    }\n  }\n\n  fetchProductMeta(index, element) {\n    const productHandle = $(element).attr(this.productHandleAttr);\n\n    if (!productHandle) {\n      this.setProductAvailability(element);\n      return;\n    }\n\n    // Fetch data from shopify. Returns a promise\n    this.client.product.fetchByHandle(productHandle)\n      .then(product => {\n        const productAvailable = this.setProductAvailability(element, product.variants);\n\n        if (productAvailable) {\n          this.updateProductVariant(element, product.variants[0]);\n        }\n\n        const productInCart = localStorage.getItem(product.id) ? true : false;\n        this.updateProductInCartStatus(element, productInCart);\n\n        // Generate variation selector\n        if (product.variants.length > 1) {\n          this.generateOptions(element, product.variants);\n        }\n\n        this.$addToCartButton.on('click', this.handleAddToCart.bind(this, element, product));\n      })\n      .catch( error => {\n        console.log(error);\n      });\n\n  }\n\n  updateProductInCartStatus(element, status) {\n    const attrValue = status ? 'true' : 'false';\n    $(element).attr(this.productInCartAttr, attrValue);\n  }\n\n  getProductInCartStatus(element) {\n    const status = $(element).attr(this.productInCartAttr);\n    if (status === 'true') {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Add item to Cart\n   */\n  handleAddToCart(element, product) {\n    const itemsToAdd = this.getQuantityAndVariant(element, product.variants);\n    const productInCart = this.getProductInCartStatus(element);\n\n    if (itemsToAdd && !productInCart) {\n      // Add an item to the checkout in shopify\n      this.client.checkout.addLineItems(this.checkout.id, [itemsToAdd])\n        .then((checkout) => {\n          // Do something with the updated checkout\n          this.dispatchCartUpdateEvent('added', checkout.lineItems[0].variant);\n\n          // Update cart\n          this.updateCart(checkout);\n\n          // Add handle to localStorage\n          const postId = $(element).attr(this.postIdAttr);\n          if (postId) {\n            localStorage.setItem(product.id, postId);\n          }\n\n          this.updateProductInCartStatus(element, true);\n        })\n        .catch( error => {\n          console.log(error);\n        });\n\n    } else if (productInCart) {\n      this.dispatchCartUpdateEvent('incart', false);\n    } else {\n      $('#out-of-stock').addClass('show');\n    }\n\n    // Prevent default form submit\n    return false;\n  }\n\n  /**\n   * Assign boolean value to data-available attribute.\n   * True if at least one product variant is available.\n   * @param {string} element - The product element in DOM\n   * @param {array} variants - Product variants returned from Shopify API\n   */\n  setProductAvailability(element, variants) {\n    let productAvailable = false; // assume falseyness to start\n\n    if (variants) {\n      $.each(variants, function(i, val) {\n        if (val.available) {\n          // found an available variant\n          productAvailable = true;\n\n          return false; // break $.each loop\n        }\n      });\n    }\n    // if no variants, we assume product is unavailable\n\n    // assign attribute value\n    $(element).attr(this.productAvailableAttr, productAvailable);\n\n    return productAvailable;\n  }\n\n  updateProductVariant(element, variant) {\n    const $priceWrapper = $(element).find(this.priceWrapperClass);\n    const $variantIdInput = $(element).find(this.variantIdInputClass);\n\n    if (variant) {\n      if ($priceWrapper.length) {\n        const price = variant.compareAtPrice ? variant.compareAtPrice : variant.price;\n        $priceWrapper.html(price);\n        $(element).attr(this.producePriceAttr, price);\n      }\n      if ($variantIdInput.length) {\n        this.setVariantId($variantIdInput, variant);\n      }\n    }\n  }\n\n  setVariantId($variantIdInput, variant) {\n    $variantIdInput.val(variant.id);\n  }\n\n  getQuantityAndVariant(element, variants) {\n    const variant = this.getSelectedVariant(element, variants);\n\n    const $quantitySelect = $(element).find(this.quantitySelectClass);\n    const quantity = $quantitySelect.length ? parseInt($quantitySelect.val()) : 1;\n\n    if (!variant.available) {\n      return false;\n    }\n\n    return({\n      variantId: variant.id,\n      quantity,\n    });\n  }\n\n  generateOptions(product) {\n    product.options.map( option => {\n      let hidden = '';\n\n      if (option.name === 'Title') {\n        hidden = 'u-hidden';\n      }\n\n      let optionHtml = `\n      <div class=\"grid-item item-s-12 no-gutter grid-row margin-bottom-basic align-items-center ${hidden}\">\n        <div class=\"grid-item item-s-6 text-align-right\">\n          <label for=\"option-${option.name}\" class=\"font-uppercase font-size-small\">${option.name}</label>\n        </div>\n        <div class=\"grid-item item-s-6\">\n          <select id=\"option-${option.name}\" class=\"gws-variant-select font-uppercase\">`;\n\n      option.values.map( option => {\n        optionHtml += `<option value=\\\"${option.value}\\\">${option.value}</option>`;\n      });\n\n      optionHtml += `\n          </select>\n        </div>\n      </div>`;\n\n      $('#product-options').append(optionHtml);\n    });\n  }\n\n  getSelectedVariant(element, variants) {\n    if (variants.length === 1) {\n      return variants[0];\n    }\n\n    // Map values of form select inputs to array\n    const selectedOptions = $(element).find(this.variantSelectClass).map((index, elem) => {\n      return $(elem).val();\n    });\n\n    // Set defaults for variant search\n    let matchFound = false;\n    let variant = null;\n\n    // Loop through product variants\n    // example: Small/White, Medium/White, Small/Black, ...\n    for (let i = 0; i < variants.length; i++) {\n      let variantOptions = variants[i].selectedOptions;\n      variant = variants[i];\n\n      // initiate selectedOptions counter\n      let v = 0;\n\n      // Loop through options of each variant\n      // example: Small, White\n      for (let j = 0; j < variantOptions.length; j++) {\n\n        // Loop through values retrieved from form select inputs.\n        // See if they correspond to this variant's options\n        for (let k = 0; k < selectedOptions.length; k++) {\n\n          // TRUE if this variant option matches the selected option\n          matchFound = variantOptions[j].value === selectedOptions[v];\n\n          if (matchFound) {\n            // If this is the last selected option\n            // and match found is still true\n            if (v === (selectedOptions.length - 1)) {\n              return variant;\n            }\n\n            // Otherwise just iterate to next selected option\n            v++;\n          }\n        }\n      }\n    }\n\n    return variant;\n  }\n\n  initCartSection() {\n    // Get DOM elements\n    this.cartItemHtml = this.$cartItem[0].outerHTML;\n\n    // Bind functions\n    this.handleCartQuantity = this.handleCartQuantity.bind(this); // Bind the quantity selector\n    this.handleRemoveItems = this.handleRemoveItems.bind(this); // Bind remove item button\n    this.handleCartAttributeUpdate = this.handleCartAttributeUpdate.bind(this); // Bind attribute update\n  }\n\n  /**\n   * Update cart\n   * @param {object} checkout - The updated shopify checkout object\n   */\n  updateCart(checkout) {\n    const { lineItems, webUrl, paymentDue } = checkout;\n    console.log(checkout)\n\n    // Update cart items in header\n    this.$cartCounter.html(lineItems.length);\n\n    // Update page Cart content\n    if (this.$cart.length) {\n      // Clear cart items\n      this.$cartItemsContainer.html('');\n\n      if (lineItems.length > 0) {\n        this.$cart.attr(this.cartEmptyAttr, false);\n\n        this.generateCartItemsRows(lineItems);\n        this.bindCartInputs(lineItems);\n        this.updateSubtotal(paymentDue);\n        this.bindRemoveItems();\n\n        $(this.cartCheckoutSelector).attr('href', webUrl);\n      } else {\n        this.$cart.attr(this.cartEmptyAttr, true);\n      }\n    }\n  }\n\n  /*\n   * Generate cart items rows markup\n   * @param {object} items - Shopify items object\n   */\n  generateCartItemsRows(items) {\n    if (items.length) {\n\n      items.forEach( item => {\n        if (!item.variant.available) {\n          // Item sold out\n          this.removeCartItems(item.id);\n          return;\n        }\n\n        // Get item markup and append as new element\n        const $cartItem = $(this.cartItemHtml);\n        this.$cartItemsContainer.append($cartItem);\n\n        // Handle product id and post id\n        const productId = item.variant.product.id;\n        const postId = localStorage.getItem(productId);\n        $cartItem.attr(this.productIdAttr, item.variant.product.id);\n\n        // Set item ID to data attr\n        $cartItem.attr(this.cartItemIdAttr, item.id);\n\n        // Declare item elements\n        const $cartThumb = $cartItem.find(this.cartThumbClass);\n        const $cartTitle = $cartItem.find(this.cartTitleClass);\n        const $cartVariantTitle = $cartItem.find(this.cartVariantTitleClass);\n        const $cartQuantity = $cartItem.find(this.cartQuantityClass);\n        const $cartSubtotal = $cartItem.find(this.cartItemSubtotalClass);\n\n        // Define item image and title\n        const imageSrc = item.variant.image !== null ? item.variant.image.src : '';\n        const variantTitle = item.variant.title === 'Default Title' ? '' : item.variant.title;\n\n        // Fill item content if defined\n        if ($cartThumb) {$cartThumb.css('background-image', 'url(\\'' + imageSrc + '\\')');}\n        if ($cartTitle) {\n          const path = Shopify.itemSlug ? Shopify.itemSlug + '/' : '?p=';\n          const title = postId ? `<a href=\"${WP.siteUrl}/${path}${postId}\">${item.title}</a>` : item.title;\n          $cartTitle.html(title);\n        }\n        if ($cartVariantTitle) {$cartVariantTitle.text(variantTitle);}\n        if ($cartQuantity) {$cartQuantity.val(item.quantity);}\n        if ($cartSubtotal) {$cartSubtotal.text(item.variant.price * item.quantity);}\n      });\n\n      this.$cartRemoveItem = $(this.cartRemoveClass);\n    }\n  }\n\n  updateSubtotal(price) {\n    $(this.cartSubtotalSelector).text(price);\n  }\n\n  bindCartInputs() {\n    $(this.cartQuantityClass).on('change', this.handleCartQuantity);\n    $(this.cartAttributeClass).on('change', this.handleCartAttributeUpdate);\n  }\n\n  handleCartQuantity(e) {\n    var $cartItem = $(e.target).closest(this.cartItemClass);\n    var $cartItemSubtotal = $cartItem.find(this.cartItemSubtotalClass);\n    var cartItemId = $cartItem.attr(this.cartItemIdAttr);\n    var quantity = parseInt(e.target.value);\n\n    // Update the line item on the checkout (change the quantity or variant)\n    this.client.checkout.updateLineItems(this.checkout.id, [{id: cartItemId, quantity}]).then((checkout) => {\n      // Do something with the updated checkout\n      console.log(checkout); // Quantity of line item 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ=' updated to 2\n      var item = checkout.lineItems.find(function(item) {\n        return item.id === cartItemId;\n      });\n      $cartItemSubtotal.text(item.quantity * item.variant.price);\n      this.updateSubtotal(checkout.paymentDue);\n    });\n  }\n\n  handleCartAttributeUpdate(e) {\n    const key = $(e.target).attr(this.cartAttributeKey);\n    const value = e.target.type === 'checkbox' ? e.target.checked.toString() : e.target.value;\n    const input = {customAttributes: [{key, value}]};\n\n    this.client.checkout.updateAttributes(this.checkout.id, input).then((checkout) => {\n      console.log(checkout);\n    });\n  }\n\n  bindRemoveItems() {\n    this.$cartRemoveItem.on('click', this.handleRemoveItems);\n  }\n\n  handleRemoveItems(event) {\n    const $cartItem = $(event.target).closest(this.cartItemClass);\n    const cartItemId = $cartItem.attr(this.cartItemIdAttr);\n    const productId = $cartItem.attr(this.productIdAttr);\n\n    this.removeCartItems(cartItemId);\n    localStorage.removeItem(productId);\n  }\n\n  removeCartItems(cartItemId) {\n    this.client.checkout.removeLineItems(this.checkout.id, [cartItemId]).then( checkout => {\n      this.updateCart(checkout);\n      this.dispatchCartUpdateEvent('removed');\n    });\n  }\n\n  dispatchCartUpdateEvent(context, variant) {\n    window.dispatchEvent(\n      new CustomEvent(this.cartUpdateEventType, {\n        detail: {\n          context,\n          variant\n        }\n      })\n    );\n  }\n\n}\n\nnew GWS();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/*\nThe MIT License (MIT)\n\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck$1 = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass$1 = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\nvar inherits$1 = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn$1 = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/*\nThe MIT License (MIT)\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE.\n\n\n*/\nfunction join() {\n  for (var _len = arguments.length, fields = Array(_len), _key = 0; _key < _len; _key++) {\n    fields[_key] = arguments[_key];\n  }\n\n  return fields.join(' ');\n}\n\nfunction isObject(value) {\n  return Boolean(value) && Object.prototype.toString.call(value.valueOf()) === '[object Object]';\n}\n\nfunction deepFreezeCopyExcept(predicate, structure) {\n  if (predicate(structure)) {\n    return structure;\n  } else if (isObject(structure)) {\n    return Object.freeze(Object.keys(structure).reduce(function (copy, key) {\n      copy[key] = deepFreezeCopyExcept(predicate, structure[key]);\n\n      return copy;\n    }, {}));\n  } else if (Array.isArray(structure)) {\n    return Object.freeze(structure.map(function (item) {\n      return deepFreezeCopyExcept(predicate, item);\n    }));\n  } else {\n    return structure;\n  }\n}\n\nfunction schemaForType(typeBundle, typeName) {\n  var type = typeBundle.types[typeName];\n\n  if (type) {\n    return type;\n  }\n\n  throw new Error(\"No type of \" + typeName + \" found in schema\");\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar toConsumableArray = function toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar VariableDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#variable} to create a VariableDefinition.\n   *\n   * @param {String} name The name of the variable.\n   * @param {String} type The GraphQL type of the variable.\n   * @param {*} [defaultValue] The default value of the variable.\n   */\n  function VariableDefinition(name, type, defaultValue) {\n    classCallCheck(this, VariableDefinition);\n\n    this.name = name;\n    this.type = type;\n    this.defaultValue = defaultValue;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the variable as an input value (e.g. `$variableName`).\n   *\n   * @return {String} The GraphQL query string for the variable as an input value.\n   */\n\n  createClass(VariableDefinition, [{\n    key: 'toInputValueString',\n    value: function toInputValueString() {\n      return '$' + this.name;\n    }\n\n    /**\n     * Returns the GraphQL query string for the variable (e.g. `$variableName:VariableType = defaultValue`).\n     *\n     * @return {String} The GraphQL query string for the variable.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var defaultValueString = this.defaultValue ? ' = ' + formatInputValue(this.defaultValue) : '';\n\n      return '$' + this.name + ':' + this.type + defaultValueString;\n    }\n  }]);\n  return VariableDefinition;\n}();\n\nfunction isVariable(value) {\n  return VariableDefinition.prototype.isPrototypeOf(value);\n}\n\nfunction variable(name, type, defaultValue) {\n  return new VariableDefinition(name, type, defaultValue);\n}\n\nvar Enum = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#enum} to create an Enum.\n   *\n   * @param {String} key The key of the enum.\n   */\n  function Enum(key) {\n    classCallCheck(this, Enum);\n\n    this.key = key;\n  }\n\n  /**\n   * Returns the GraphQL query string for the enum (e.g. `enumKey`).\n   *\n   * @return {String} The GraphQL query string for the enum.\n   */\n\n  createClass(Enum, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.key;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.key.valueOf();\n    }\n  }]);\n  return Enum;\n}();\n\nvar enumFunction = function enumFunction(key) {\n  return new Enum(key);\n};\n\nvar Scalar = function () {\n  function Scalar(value) {\n    classCallCheck(this, Scalar);\n\n    this.value = value;\n  }\n\n  createClass(Scalar, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value.toString();\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value.valueOf();\n    }\n  }, {\n    key: \"unwrapped\",\n    get: function get$$1() {\n      return this.value;\n    }\n  }]);\n  return Scalar;\n}();\n\nfunction formatInputValue(value) {\n  if (VariableDefinition.prototype.isPrototypeOf(value)) {\n    return value.toInputValueString();\n  } else if (Enum.prototype.isPrototypeOf(value)) {\n    return String(value);\n  } else if (Scalar.prototype.isPrototypeOf(value)) {\n    return JSON.stringify(value.valueOf());\n  } else if (Array.isArray(value)) {\n    return '[' + join.apply(undefined, toConsumableArray(value.map(formatInputValue))) + ']';\n  } else if (isObject(value)) {\n    return formatObject(value, '{', '}');\n  } else {\n    return JSON.stringify(value);\n  }\n}\n\nfunction formatObject(value) {\n  var openChar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var closeChar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  var argPairs = Object.keys(value).map(function (key) {\n    return key + ': ' + formatInputValue(value[key]);\n  });\n\n  return '' + openChar + join.apply(undefined, toConsumableArray(argPairs)) + closeChar;\n}\n\nfunction formatArgs(args) {\n  if (!Object.keys(args).length) {\n    return '';\n  }\n\n  return ' (' + formatObject(args) + ')';\n}\n\n// eslint-disable-next-line no-empty-function\nvar noop = function noop() {};\n\nvar Profiler = {\n  trackTypeDependency: noop,\n  trackFieldDependency: noop\n};\n\nvar trackTypeDependency = Profiler.trackTypeDependency;\nvar trackFieldDependency = Profiler.trackFieldDependency;\n\nfunction parseFieldCreationArgs(creationArgs) {\n  var callback = noop;\n  var options = {};\n  var selectionSet = null;\n\n  if (creationArgs.length === 2) {\n    if (typeof creationArgs[1] === 'function') {\n      var _creationArgs = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs[0];\n      callback = _creationArgs[1];\n    } else {\n      var _creationArgs2 = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs2[0];\n      selectionSet = _creationArgs2[1];\n    }\n  } else if (creationArgs.length === 1) {\n    // SelectionSet is defined before this function is called since it's\n    // called by SelectionSet\n    // eslint-disable-next-line no-use-before-define\n    if (SelectionSet.prototype.isPrototypeOf(creationArgs[0])) {\n      selectionSet = creationArgs[0];\n    } else if (typeof creationArgs[0] === 'function') {\n      callback = creationArgs[0];\n    } else {\n      options = creationArgs[0];\n    }\n  }\n\n  return { options: options, selectionSet: selectionSet, callback: callback };\n}\n\nvar emptyArgs = Object.freeze({});\n\nvar Field = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Fields are added to a selection by {@link SelectionSetBuilder#add}, {@link SelectionSetBuilder#addConnection}\n   * and {@link SelectionSetBuilder#addInlineFragmentOn}.\n   *\n   * @param {String} name The name of the field.\n   * @param {Object} [options] An options object containing:\n   *   @param {Object} [options.args] Arguments for the field.\n   *   @param {String} [options.alias] An alias for the field.\n   * @param {SelectionSet} selectionSet The selection set on the field.\n   */\n  function Field(name, options, selectionSet) {\n    classCallCheck(this, Field);\n\n    this.name = name;\n    this.alias = options.alias || null;\n    this.responseKey = this.alias || this.name;\n    this.args = options.args ? deepFreezeCopyExcept(isVariable, options.args) : emptyArgs;\n    this.selectionSet = selectionSet;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the Field (e.g. `catAlias: cat(size: 'small') { name }` or `name`).\n   *\n   * @return {String} The GraphQL query string for the Field.\n   */\n\n  createClass(Field, [{\n    key: 'toString',\n    value: function toString() {\n      var aliasPrefix = this.alias ? this.alias + ': ' : '';\n\n      return '' + aliasPrefix + this.name + formatArgs(this.args) + this.selectionSet;\n    }\n  }]);\n  return Field;\n}();\n\n// This is an interface that defines a usage, and simplifies type checking\nvar Spread = function Spread() {\n  classCallCheck(this, Spread);\n};\n\nvar InlineFragment = function (_Spread) {\n  inherits(InlineFragment, _Spread);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link SelectionSetBuilder#addInlineFragmentOn} to create an InlineFragment.\n   *\n   * @param {String} typeName The type of the fragment.\n   * @param {SelectionSet} selectionSet The selection set on the fragment.\n   */\n  function InlineFragment(typeName, selectionSet) {\n    classCallCheck(this, InlineFragment);\n\n    var _this = possibleConstructorReturn(this, (InlineFragment.__proto__ || Object.getPrototypeOf(InlineFragment)).call(this));\n\n    _this.typeName = typeName;\n    _this.selectionSet = selectionSet;\n    Object.freeze(_this);\n    return _this;\n  }\n\n  /**\n   * Returns the GraphQL query string for the InlineFragment (e.g. `... on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the InlineFragment.\n   */\n\n  createClass(InlineFragment, [{\n    key: 'toString',\n    value: function toString() {\n      return '... on ' + this.typeName + this.selectionSet;\n    }\n  }]);\n  return InlineFragment;\n}(Spread);\n\nvar FragmentSpread = function (_Spread2) {\n  inherits(FragmentSpread, _Spread2);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentSpread.\n   *\n   * @param {FragmentDefinition} fragmentDefinition The corresponding fragment definition.\n   */\n  function FragmentSpread(fragmentDefinition) {\n    classCallCheck(this, FragmentSpread);\n\n    var _this2 = possibleConstructorReturn(this, (FragmentSpread.__proto__ || Object.getPrototypeOf(FragmentSpread)).call(this));\n\n    _this2.name = fragmentDefinition.name;\n    _this2.selectionSet = fragmentDefinition.selectionSet;\n    Object.freeze(_this2);\n    return _this2;\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentSpread (e.g. `...catName`).\n   *\n   * @return {String} The GraphQL query string for the FragmentSpread.\n   */\n\n  createClass(FragmentSpread, [{\n    key: 'toString',\n    value: function toString() {\n      return '...' + this.name;\n    }\n  }, {\n    key: 'toDefinition',\n    value: function toDefinition() {\n      // eslint-disable-next-line no-use-before-define\n      return new FragmentDefinition(this.name, this.selectionSet.typeSchema.name, this.selectionSet);\n    }\n  }]);\n  return FragmentSpread;\n}(Spread);\n\nvar FragmentDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentDefinition on a {@link Document}.\n   *\n   * @param {String} name The name of the fragment definition.\n   * @param {String} typeName The type of the fragment.\n   */\n  function FragmentDefinition(name, typeName, selectionSet) {\n    classCallCheck(this, FragmentDefinition);\n\n    this.name = name;\n    this.typeName = typeName;\n    this.selectionSet = selectionSet;\n    this.spread = new FragmentSpread(this);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentDefinition (e.g. `fragment catName on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the FragmentDefinition.\n   */\n\n  createClass(FragmentDefinition, [{\n    key: 'toString',\n    value: function toString() {\n      return 'fragment ' + this.name + ' on ' + this.typeName + ' ' + this.selectionSet;\n    }\n  }]);\n  return FragmentDefinition;\n}();\n\nfunction selectionsHaveIdField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === 'id';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveIdField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction selectionsHaveTypenameField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === '__typename';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveTypenameField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction indexSelectionsByResponseKey(selections) {\n  function assignOrPush(obj, key, value) {\n    if (Array.isArray(obj[key])) {\n      obj[key].push(value);\n    } else {\n      obj[key] = [value];\n    }\n  }\n  var unfrozenObject = selections.reduce(function (acc, selection) {\n    if (selection.responseKey) {\n      assignOrPush(acc, selection.responseKey, selection);\n    } else {\n      var responseKeys = Object.keys(selection.selectionSet.selectionsByResponseKey);\n\n      responseKeys.forEach(function (responseKey) {\n        assignOrPush(acc, responseKey, selection);\n      });\n    }\n\n    return acc;\n  }, {});\n\n  Object.keys(unfrozenObject).forEach(function (key) {\n    Object.freeze(unfrozenObject[key]);\n  });\n\n  return Object.freeze(unfrozenObject);\n}\n\n/**\n * Class that specifies the full selection of data to query.\n */\n\nvar SelectionSet = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSets are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {(Object|String)} type The type of the current selection.\n   * @param {Function} builderFunction Callback function used to build the SelectionSet.\n   *   The callback takes a {@link SelectionSetBuilder} as its argument.\n   */\n  function SelectionSet(typeBundle, type, builderFunction) {\n    classCallCheck(this, SelectionSet);\n\n    if (typeof type === 'string') {\n      this.typeSchema = schemaForType(typeBundle, type);\n    } else {\n      this.typeSchema = type;\n    }\n\n    trackTypeDependency(this.typeSchema.name);\n\n    this.typeBundle = typeBundle;\n    this.selections = [];\n    if (builderFunction) {\n      // eslint-disable-next-line no-use-before-define\n      builderFunction(new SelectionSetBuilder(this.typeBundle, this.typeSchema, this.selections));\n    }\n\n    if (this.typeSchema.implementsNode || this.typeSchema.name === 'Node') {\n      if (!selectionsHaveIdField(this.selections)) {\n        this.selections.unshift(new Field('id', {}, new SelectionSet(typeBundle, 'ID')));\n      }\n    }\n\n    if (this.typeSchema.kind === 'INTERFACE') {\n      if (!selectionsHaveTypenameField(this.selections)) {\n        this.selections.unshift(new Field('__typename', {}, new SelectionSet(typeBundle, 'String')));\n      }\n    }\n\n    this.selectionsByResponseKey = indexSelectionsByResponseKey(this.selections);\n    Object.freeze(this.selections);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the SelectionSet (e.g. `{ cat { name } }`).\n   *\n   * @return {String} The GraphQL query string for the SelectionSet.\n   */\n\n  createClass(SelectionSet, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.typeSchema.kind === 'SCALAR' || this.typeSchema.kind === 'ENUM') {\n        return '';\n      } else {\n        return ' { ' + join(this.selections) + ' }';\n      }\n    }\n  }]);\n  return SelectionSet;\n}();\n\nvar SelectionSetBuilder = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSetBuilders are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} typeSchema The schema object for the type of the current selection.\n   * @param {Field[]} selections The fields on the current selection.\n   */\n  function SelectionSetBuilder(typeBundle, typeSchema, selections) {\n    classCallCheck(this, SelectionSetBuilder);\n\n    this.typeBundle = typeBundle;\n    this.typeSchema = typeSchema;\n    this.selections = selections;\n  }\n\n  createClass(SelectionSetBuilder, [{\n    key: 'hasSelectionWithResponseKey',\n    value: function hasSelectionWithResponseKey(responseKey) {\n      return this.selections.some(function (field) {\n        return field.responseKey === responseKey;\n      });\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', {args: {id: '123456'}, alias: 'meow'}, (cat) => {\n     *     cat.add('name');\n     *   });\n     * });\n     *\n     * @param {SelectionSet|String} selectionOrFieldName The selection or name of the field to add.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet} [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(selectionOrFieldName) {\n      var selection = void 0;\n\n      if (Object.prototype.toString.call(selectionOrFieldName) === '[object String]') {\n        trackFieldDependency(this.typeSchema.name, selectionOrFieldName);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        selection = this.field.apply(this, [selectionOrFieldName].concat(rest));\n      } else {\n        if (Field.prototype.isPrototypeOf(selectionOrFieldName)) {\n          trackFieldDependency(this.typeSchema.name, selectionOrFieldName.name);\n        }\n\n        selection = selectionOrFieldName;\n      }\n\n      if (selection.responseKey && this.hasSelectionWithResponseKey(selection.responseKey)) {\n        throw new Error('The field name or alias \\'' + selection.responseKey + '\\' has already been added.');\n      }\n      this.selections.push(selection);\n    }\n  }, {\n    key: 'field',\n    value: function field(name) {\n      for (var _len2 = arguments.length, creationArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        creationArgs[_key2 - 1] = arguments[_key2];\n      }\n\n      var parsedArgs = parseFieldCreationArgs(creationArgs);\n      var options = parsedArgs.options,\n          callback = parsedArgs.callback;\n      var selectionSet = parsedArgs.selectionSet;\n\n      if (!selectionSet) {\n        if (!this.typeSchema.fieldBaseTypes[name]) {\n          throw new Error('No field of name \"' + name + '\" found on type \"' + this.typeSchema.name + '\" in schema');\n        }\n\n        var fieldBaseType = schemaForType(this.typeBundle, this.typeSchema.fieldBaseTypes[name]);\n\n        selectionSet = new SelectionSet(this.typeBundle, fieldBaseType, callback);\n      }\n\n      return new Field(name, options, selectionSet);\n    }\n\n    /**\n     * Creates an inline fragment.\n     *\n     * @access private\n     * @param {String} typeName The type  the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     * @return {InlineFragment} An inline fragment.\n     */\n\n  }, {\n    key: 'inlineFragmentOn',\n    value: function inlineFragmentOn(typeName) {\n      var builderFunctionOrSelectionSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var selectionSet = void 0;\n\n      if (SelectionSet.prototype.isPrototypeOf(builderFunctionOrSelectionSet)) {\n        selectionSet = builderFunctionOrSelectionSet;\n      } else {\n        selectionSet = new SelectionSet(this.typeBundle, schemaForType(this.typeBundle, typeName), builderFunctionOrSelectionSet);\n      }\n\n      return new InlineFragment(typeName, selectionSet);\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @access private\n     * @param {String}    name The name of the field to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function}  [callback] Callback which will be used to create a new {@link SelectionSet} for the field added.\n     */\n\n  }, {\n    key: 'addField',\n    value: function addField(name) {\n      for (var _len3 = arguments.length, creationArgs = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        creationArgs[_key3 - 1] = arguments[_key3];\n      }\n\n      this.add.apply(this, [name].concat(creationArgs));\n    }\n\n    /**\n     * Adds a connection to be queried on the current selection.\n     * This adds all the fields necessary for pagination.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', (cat) => {\n     *     cat.addConnection('friends', {args: {first: 10}, alias: 'coolCats'}, (friends) => {\n     *       friends.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String}    name The name of the connection to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{first: 10}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addConnection',\n    value: function addConnection(name) {\n      for (var _len4 = arguments.length, creationArgs = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        creationArgs[_key4 - 1] = arguments[_key4];\n      }\n\n      var _parseFieldCreationAr = parseFieldCreationArgs(creationArgs),\n          options = _parseFieldCreationAr.options,\n          callback = _parseFieldCreationAr.callback,\n          selectionSet = _parseFieldCreationAr.selectionSet;\n\n      this.add(name, options, function (connection) {\n        connection.add('pageInfo', {}, function (pageInfo) {\n          pageInfo.add('hasNextPage');\n          pageInfo.add('hasPreviousPage');\n        });\n        connection.add('edges', {}, function (edges) {\n          edges.add('cursor');\n          edges.addField('node', {}, selectionSet || callback); // This is bad. Don't do this\n        });\n      });\n    }\n\n    /**\n     * Adds an inline fragment on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('animal', (animal) => {\n     *     animal.addInlineFragmentOn('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} typeName The name of the type of the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addInlineFragmentOn',\n    value: function addInlineFragmentOn(typeName) {\n      var fieldTypeCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      this.add(this.inlineFragmentOn(typeName, fieldTypeCb));\n    }\n\n    /**\n     * Adds a fragment spread on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.addFragment(catFragmentSpread);\n     * });\n     *\n     * @param {FragmentSpread} fragmentSpread The fragment spread to add.\n     */\n\n  }, {\n    key: 'addFragment',\n    value: function addFragment(fragmentSpread) {\n      this.add(fragmentSpread);\n    }\n  }]);\n  return SelectionSetBuilder;\n}();\n\nfunction parseArgs(args) {\n  var name = void 0;\n  var variables = void 0;\n  var selectionSetCallback = void 0;\n\n  if (args.length === 3) {\n    var _args = slicedToArray(args, 3);\n\n    name = _args[0];\n    variables = _args[1];\n    selectionSetCallback = _args[2];\n  } else if (args.length === 2) {\n    if (Object.prototype.toString.call(args[0]) === '[object String]') {\n      name = args[0];\n      variables = null;\n    } else if (Array.isArray(args[0])) {\n      variables = args[0];\n      name = null;\n    }\n\n    selectionSetCallback = args[1];\n  } else {\n    selectionSetCallback = args[0];\n    name = null;\n  }\n\n  return { name: name, variables: variables, selectionSetCallback: selectionSetCallback };\n}\n\nvar VariableDefinitions = function () {\n  function VariableDefinitions(variableDefinitions) {\n    classCallCheck(this, VariableDefinitions);\n\n    this.variableDefinitions = variableDefinitions ? [].concat(toConsumableArray(variableDefinitions)) : [];\n    Object.freeze(this.variableDefinitions);\n    Object.freeze(this);\n  }\n\n  createClass(VariableDefinitions, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.variableDefinitions.length === 0) {\n        return '';\n      }\n\n      return ' (' + join(this.variableDefinitions) + ') ';\n    }\n  }]);\n  return VariableDefinitions;\n}();\n\n/**\n * Base class for {@link Query} and {@link Mutation}.\n * @abstract\n */\n\nvar Operation = function () {\n\n  /**\n   * This constructor should not be invoked. The subclasses {@link Query} and {@link Mutation} should be used instead.\n   */\n  function Operation(typeBundle, operationType) {\n    classCallCheck(this, Operation);\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var _parseArgs = parseArgs(args),\n        name = _parseArgs.name,\n        variables = _parseArgs.variables,\n        selectionSetCallback = _parseArgs.selectionSetCallback;\n\n    this.typeBundle = typeBundle;\n    this.name = name;\n    this.variableDefinitions = new VariableDefinitions(variables);\n    this.operationType = operationType;\n    if (operationType === 'query') {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.queryType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.queryType);\n    } else {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.mutationType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.mutationType);\n    }\n    Object.freeze(this);\n  }\n\n  /**\n   * Whether the operation is anonymous (i.e. has no name).\n   */\n\n  createClass(Operation, [{\n    key: 'toString',\n\n    /**\n     * Returns the GraphQL query or mutation string (e.g. `query myQuery { cat { name } }`).\n     *\n     * @return {String} The GraphQL query or mutation string.\n     */\n    value: function toString() {\n      var nameString = this.name ? ' ' + this.name : '';\n\n      return '' + this.operationType + nameString + this.variableDefinitions + this.selectionSet;\n    }\n  }, {\n    key: 'isAnonymous',\n    get: function get$$1() {\n      return !this.name;\n    }\n  }]);\n  return Operation;\n}();\n\n/**\n * GraphQL Query class.\n * @extends Operation\n */\n\nvar Query = function (_Operation) {\n  inherits(Query, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#query} or {@link Document#addQuery} to create a Query.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the query.\n   * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The query builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Query(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Query);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Query.__proto__ || Object.getPrototypeOf(Query)).call.apply(_ref, [this, typeBundle, 'query'].concat(args)));\n  }\n\n  return Query;\n}(Operation);\n\n/**\n * GraphQL Mutation class.\n * @extends Operation\n */\n\nvar Mutation = function (_Operation) {\n  inherits(Mutation, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#mutation} or {@link Document#addMutation} to create a Mutation.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the mutation.\n   * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The mutation builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Mutation(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Mutation);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Mutation.__proto__ || Object.getPrototypeOf(Mutation)).call.apply(_ref, [this, typeBundle, 'mutation'].concat(args)));\n  }\n\n  return Mutation;\n}(Operation);\n\nfunction isAnonymous(operation) {\n  return operation.isAnonymous;\n}\n\nfunction hasAnonymousOperations(operations) {\n  return operations.some(isAnonymous);\n}\n\nfunction hasDuplicateOperationNames(operations) {\n  var names = operations.map(function (operation) {\n    return operation.name;\n  });\n\n  return names.reduce(function (hasDuplicates, name, index) {\n    return hasDuplicates || names.indexOf(name) !== index;\n  }, false);\n}\n\nfunction extractOperation(typeBundle, operationType) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (Operation.prototype.isPrototypeOf(args[0])) {\n    return args[0];\n  }\n\n  if (operationType === 'query') {\n    return new (Function.prototype.bind.apply(Query, [null].concat([typeBundle], args)))();\n  } else {\n    return new (Function.prototype.bind.apply(Mutation, [null].concat([typeBundle], args)))();\n  }\n}\n\nfunction isInvalidOperationCombination(operations) {\n  if (operations.length === 1) {\n    return false;\n  }\n\n  return hasAnonymousOperations(operations) || hasDuplicateOperationNames(operations);\n}\n\nfunction fragmentNameIsNotUnique(existingDefinitions, name) {\n  return existingDefinitions.some(function (definition) {\n    return definition.name === name;\n  });\n}\n\nvar Document = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#document} to create a Document.\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   */\n  function Document(typeBundle) {\n    classCallCheck(this, Document);\n\n    this.typeBundle = typeBundle;\n    this.definitions = [];\n  }\n\n  /**\n   * Returns the GraphQL query string for the Document (e.g. `query queryOne { ... } query queryTwo { ... }`).\n   *\n   * @return {String} The GraphQL query string for the Document.\n   */\n\n  createClass(Document, [{\n    key: 'toString',\n    value: function toString() {\n      return join(this.definitions);\n    }\n\n    /**\n     * Adds an operation to the Document.\n     *\n     * @private\n     * @param {String} operationType The type of the operation. Either 'query' or 'mutation'.\n     * @param {(Operation|String)} [query|queryName] Either an instance of an operation\n     *   object, or the name of an operation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the operation. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If an operation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n      */\n\n  }, {\n    key: 'addOperation',\n    value: function addOperation(operationType) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      var operation = extractOperation.apply(undefined, [this.typeBundle, operationType].concat(args));\n\n      if (isInvalidOperationCombination(this.operations.concat(operation))) {\n        throw new Error('All operations must be uniquely named on a multi-operation document');\n      }\n\n      this.definitions.push(operation);\n    }\n\n    /**\n     * Adds a query to the Document.\n     *\n     * @example\n     * document.addQuery('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {(Query|String)} [query|queryName] Either an instance of a query\n     *   object, or the name of a query. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If a query\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addQuery',\n    value: function addQuery() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.addOperation.apply(this, ['query'].concat(args));\n    }\n\n    /**\n     * Adds a mutation to the Document.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * document.addMutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {(Mutation|String)} [mutation|mutationName] Either an instance of a mutation\n     *   object, or the name of a mutation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} [callback] The mutation builder callback. If a mutation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addMutation',\n    value: function addMutation() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this.addOperation.apply(this, ['mutation'].concat(args));\n    }\n\n    /**\n     * Defines a fragment on the Document.\n     *\n     * @param {String} name The name of the fragment.\n     * @param {String} onType The type the fragment is on.\n     * @param {Function} [builderFunction] The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {FragmentSpread} A {@link FragmentSpread} to be used with {@link SelectionSetBuilder#addFragment}.\n     */\n\n  }, {\n    key: 'defineFragment',\n    value: function defineFragment(name, onType, builderFunction) {\n      if (fragmentNameIsNotUnique(this.fragmentDefinitions, name)) {\n        throw new Error('All fragments must be uniquely named on a multi-fragment document');\n      }\n\n      var selectionSet = new SelectionSet(this.typeBundle, onType, builderFunction);\n      var fragment = new FragmentDefinition(name, onType, selectionSet);\n\n      this.definitions.push(fragment);\n\n      return fragment.spread;\n    }\n\n    /**\n     * All operations ({@link Query} and {@link Mutation}) on the Document.\n     */\n\n  }, {\n    key: 'operations',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return Operation.prototype.isPrototypeOf(definition);\n      });\n    }\n\n    /**\n     * All {@link FragmentDefinition}s on the Document.\n     */\n\n  }, {\n    key: 'fragmentDefinitions',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return FragmentDefinition.prototype.isPrototypeOf(definition);\n      });\n    }\n  }]);\n  return Document;\n}();\n\n/**\n * The base class used when deserializing response data.\n * Provides rich features, like functions to generate queries to refetch a node or fetch the next page.\n *\n * @class\n */\nvar GraphModel =\n\n/**\n * @param {Object} attrs Attributes on the GraphModel.\n */\nfunction GraphModel(attrs) {\n  var _this = this;\n\n  classCallCheck(this, GraphModel);\n\n  Object.defineProperty(this, 'attrs', { value: attrs, enumerable: false });\n\n  Object.keys(this.attrs).filter(function (key) {\n    return !(key in _this);\n  }).forEach(function (key) {\n    var descriptor = void 0;\n\n    if (attrs[key] === null) {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return null;\n        }\n      };\n    } else {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return this.attrs[key].valueOf();\n        }\n      };\n    }\n    Object.defineProperty(_this, key, descriptor);\n  });\n};\n\n/**\n * A registry of classes used to deserialize the response data. Uses {@link GraphModel} by default.\n */\n\nvar ClassRegistry = function () {\n  function ClassRegistry() {\n    classCallCheck(this, ClassRegistry);\n\n    this.classStore = {};\n  }\n\n  /**\n   * Registers a class for a GraphQL type in the registry.\n   *\n   * @param {Class} constructor The constructor of the class.\n   * @param {String} type The GraphQL type of the object to deserialize into the class.\n   */\n\n  createClass(ClassRegistry, [{\n    key: 'registerClassForType',\n    value: function registerClassForType(constructor, type) {\n      this.classStore[type] = constructor;\n    }\n\n    /**\n     * Unregisters a class for a GraphQL type in the registry.\n     *\n     * @param {String} type The GraphQL type to unregister.\n     */\n\n  }, {\n    key: 'unregisterClassForType',\n    value: function unregisterClassForType(type) {\n      delete this.classStore[type];\n    }\n\n    /**\n     * Returns the class for the given GraphQL type.\n     *\n     * @param {String} type The GraphQL type to look up.\n     * @return {Class|GraphModel} The class for the given GraphQL type. Defaults to {@link GraphModel} if no class is registered for the GraphQL type.\n     */\n\n  }, {\n    key: 'classForType',\n    value: function classForType(type) {\n      return this.classStore[type] || GraphModel;\n    }\n  }]);\n  return ClassRegistry;\n}();\n\nfunction isValue(arg) {\n  return Object.prototype.toString.call(arg) !== '[object Null]' && Object.prototype.toString.call(arg) !== '[object Undefined]';\n}\n\nfunction isNodeContext(context) {\n  return context.selection.selectionSet.typeSchema.implementsNode;\n}\n\nfunction isConnection(context) {\n  return context.selection.selectionSet.typeSchema.name.endsWith('Connection');\n}\n\nfunction nearestNode(context) {\n  if (context == null) {\n    return null;\n  } else if (isNodeContext(context)) {\n    return context;\n  } else {\n    return nearestNode(context.parent);\n  }\n}\n\nfunction contextsFromRoot(context) {\n  if (context.parent) {\n    return contextsFromRoot(context.parent).concat(context);\n  } else {\n    return [context];\n  }\n}\n\nfunction contextsFromNearestNode(context) {\n  if (context.selection.selectionSet.typeSchema.implementsNode) {\n    return [context];\n  } else {\n    return contextsFromNearestNode(context.parent).concat(context);\n  }\n}\n\nfunction initializeDocumentAndVars(currentContext, contextChain) {\n  var lastInChain = contextChain[contextChain.length - 1];\n  var first = lastInChain.selection.args.first;\n  var variableDefinitions = Object.keys(lastInChain.selection.args).filter(function (key) {\n    return isVariable(lastInChain.selection.args[key]);\n  }).map(function (key) {\n    return lastInChain.selection.args[key];\n  });\n\n  var firstVar = variableDefinitions.find(function (definition) {\n    return definition.name === 'first';\n  });\n\n  if (!firstVar) {\n    firstVar = variable('first', 'Int', first);\n    variableDefinitions.push(firstVar);\n  }\n\n  var document = new Document(currentContext.selection.selectionSet.typeBundle);\n\n  return [document, variableDefinitions, firstVar];\n}\n\nfunction addNextFieldTo(currentSelection, contextChain, path, cursor) {\n  // There are always at least two. When we start, it's the root context, and the first set\n  var nextContext = contextChain.shift();\n\n  path.push(nextContext.selection.responseKey);\n\n  if (contextChain.length) {\n    currentSelection.add(nextContext.selection.name, { alias: nextContext.selection.alias, args: nextContext.selection.args }, function (newSelection) {\n      addNextFieldTo(newSelection, contextChain, path, cursor);\n    });\n  } else {\n    var edgesField = nextContext.selection.selectionSet.selections.find(function (field) {\n      return field.name === 'edges';\n    });\n    var nodeField = edgesField.selectionSet.selections.find(function (field) {\n      return field.name === 'node';\n    });\n    var first = void 0;\n\n    if (isVariable(nextContext.selection.args.first)) {\n      first = nextContext.selection.args.first;\n    } else {\n      first = variable('first', 'Int', nextContext.selection.args.first);\n    }\n\n    var options = {\n      alias: nextContext.selection.alias,\n      args: Object.assign({}, nextContext.selection.args, { after: cursor, first: first })\n    };\n\n    currentSelection.addConnection(nextContext.selection.name, options, nodeField.selectionSet);\n  }\n}\n\nfunction collectFragments(selections) {\n  return selections.reduce(function (fragmentDefinitions, field) {\n    if (FragmentSpread.prototype.isPrototypeOf(field)) {\n      fragmentDefinitions.push(field.toDefinition());\n    }\n\n    fragmentDefinitions.push.apply(fragmentDefinitions, toConsumableArray(collectFragments(field.selectionSet.selections)));\n\n    return fragmentDefinitions;\n  }, []);\n}\n\nfunction nextPageQueryAndPath(context, cursor) {\n  var nearestNodeContext = nearestNode(context);\n\n  if (nearestNodeContext) {\n    return function () {\n      var _document$definitions;\n\n      var path = [];\n      var nodeType = nearestNodeContext.selection.selectionSet.typeSchema;\n      var nodeId = nearestNodeContext.responseData.id;\n      var contextChain = contextsFromNearestNode(context);\n\n      var _initializeDocumentAn = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn2 = slicedToArray(_initializeDocumentAn, 2),\n          document = _initializeDocumentAn2[0],\n          variableDefinitions = _initializeDocumentAn2[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        path.push('node');\n        root.add('node', { args: { id: nodeId } }, function (node) {\n          node.addInlineFragmentOn(nodeType.name, function (fragment) {\n            addNextFieldTo(fragment, contextChain.slice(1), path, cursor);\n          });\n        });\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions = document.definitions).unshift.apply(_document$definitions, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  } else {\n    return function () {\n      var _document$definitions2;\n\n      var path = [];\n      var contextChain = contextsFromRoot(context);\n\n      var _initializeDocumentAn3 = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn4 = slicedToArray(_initializeDocumentAn3, 2),\n          document = _initializeDocumentAn4[0],\n          variableDefinitions = _initializeDocumentAn4[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        addNextFieldTo(root, contextChain.slice(1), path, cursor);\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions2 = document.definitions).unshift.apply(_document$definitions2, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  }\n}\n\nfunction hasNextPage$1(connection, edge) {\n  if (edge !== connection.edges[connection.edges.length - 1]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasNextPage;\n}\n\nfunction hasPreviousPage(connection, edge) {\n  if (edge !== connection.edges[0]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasPreviousPage;\n}\n\nfunction transformConnections(variableValues) {\n  return function (context, value) {\n    if (isConnection(context)) {\n      if (!(value.pageInfo && value.pageInfo.hasOwnProperty('hasNextPage') && value.pageInfo.hasOwnProperty('hasPreviousPage'))) {\n        throw new Error('Connections must include the selections \"pageInfo { hasNextPage, hasPreviousPage }\".');\n      }\n\n      return value.edges.map(function (edge) {\n        return Object.assign(edge.node, {\n          nextPageQueryAndPath: nextPageQueryAndPath(context, edge.cursor),\n          hasNextPage: hasNextPage$1(value, edge),\n          hasPreviousPage: hasPreviousPage(value, edge),\n          variableValues: variableValues\n        });\n      });\n    } else {\n      return value;\n    }\n  };\n}\n\n/* eslint-disable no-warning-comments */\nvar DecodingContext = function () {\n  function DecodingContext(selection, responseData) {\n    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    classCallCheck(this, DecodingContext);\n\n    this.selection = selection;\n    this.responseData = responseData;\n    this.parent = parent;\n    Object.freeze(this);\n  }\n\n  createClass(DecodingContext, [{\n    key: 'contextForObjectProperty',\n    value: function contextForObjectProperty(responseKey) {\n      var nestedSelections = this.selection.selectionSet.selectionsByResponseKey[responseKey];\n      var nextSelection = nestedSelections && nestedSelections[0];\n      var nextContext = void 0;\n\n      // fragment spreads operate inside the current context, so we recurse to get the proper\n      // selection set, but retain the current response context\n      if (Spread.prototype.isPrototypeOf(nextSelection)) {\n        nextContext = new DecodingContext(nextSelection, this.responseData, this.parent);\n      } else {\n        nextContext = new DecodingContext(nextSelection, this.responseData[responseKey], this);\n      }\n\n      if (!nextSelection) {\n        throw new Error('Unexpected response key \"' + responseKey + '\", not found in selection set: ' + this.selection.selectionSet);\n      }\n\n      if (Field.prototype.isPrototypeOf(nextSelection)) {\n        return nextContext;\n      } else {\n        return nextContext.contextForObjectProperty(responseKey);\n      }\n    }\n  }, {\n    key: 'contextForArrayItem',\n    value: function contextForArrayItem(item) {\n      return new DecodingContext(this.selection, item, this.parent);\n    }\n  }]);\n  return DecodingContext;\n}();\n\nfunction decodeArrayItems(context, transformers) {\n  return context.responseData.map(function (item) {\n    return decodeContext(context.contextForArrayItem(item), transformers);\n  });\n}\n\nfunction decodeObjectValues(context, transformers) {\n  return Object.keys(context.responseData).reduce(function (acc, responseKey) {\n    acc[responseKey] = decodeContext(context.contextForObjectProperty(responseKey), transformers);\n\n    return acc;\n  }, {});\n}\n\nfunction runTransformers(transformers, context, value) {\n  return transformers.reduce(function (acc, transformer) {\n    return transformer(context, acc);\n  }, value);\n}\n\nfunction decodeContext(context, transformers) {\n  var value = context.responseData;\n\n  if (Array.isArray(value)) {\n    value = decodeArrayItems(context, transformers);\n  } else if (isObject(value)) {\n    value = decodeObjectValues(context, transformers);\n  }\n\n  return runTransformers(transformers, context, value);\n}\n\nfunction generateRefetchQueries(context, value) {\n  if (isValue(value) && isNodeContext(context)) {\n    value.refetchQuery = function () {\n      return new Query(context.selection.selectionSet.typeBundle, function (root) {\n        root.add('node', { args: { id: context.responseData.id } }, function (node) {\n          node.addInlineFragmentOn(context.selection.selectionSet.typeSchema.name, context.selection.selectionSet);\n        });\n      });\n    };\n  }\n\n  return value;\n}\n\nfunction transformPojosToClassesWithRegistry(classRegistry) {\n  return function transformPojosToClasses(context, value) {\n    if (isObject(value)) {\n      var Klass = classRegistry.classForType(context.selection.selectionSet.typeSchema.name);\n\n      return new Klass(value);\n    } else {\n      return value;\n    }\n  };\n}\n\nfunction transformScalars(context, value) {\n  if (isValue(value)) {\n    if (context.selection.selectionSet.typeSchema.kind === 'SCALAR') {\n      return new Scalar(value);\n    } else if (context.selection.selectionSet.typeSchema.kind === 'ENUM') {\n      return new Enum(value);\n    }\n  }\n\n  return value;\n}\n\nfunction recordTypeInformation(context, value) {\n  if (isValue(value)) {\n    if (value.__typename) {\n      value.type = schemaForType(context.selection.selectionSet.typeBundle, value.__typename);\n    } else {\n      value.type = context.selection.selectionSet.typeSchema;\n    }\n  }\n\n  return value;\n}\n\nfunction defaultTransformers(_ref) {\n  var _ref$classRegistry = _ref.classRegistry,\n      classRegistry = _ref$classRegistry === undefined ? new ClassRegistry() : _ref$classRegistry,\n      variableValues = _ref.variableValues;\n\n  return [transformScalars, generateRefetchQueries, transformConnections(variableValues), recordTypeInformation, transformPojosToClassesWithRegistry(classRegistry)];\n}\n\n/**\n * A function used to decode the response data.\n *\n * @function decode\n * @param {SelectionSet} selection The selection set used to query the response data.\n * @param {Object} responseData The response data returned.\n * @param {Object} [options] Options to use when decoding including:\n *   @param {ClassRegistry} [options.classRegistry] A class registry to use when deserializing the data into classes.\n * @return {GraphModel} The decoded response data.\n */\nfunction decode(selection, responseData) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var transformers = options.transformers || defaultTransformers(options);\n  var context = new DecodingContext(selection, responseData);\n\n  return decodeContext(context, transformers);\n}\n\nfunction httpFetcher(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return function fetcher(graphQLParams) {\n    return fetch(url, _extends({\n      body: JSON.stringify(graphQLParams),\n      method: 'POST',\n      mode: 'cors'\n    }, options, {\n      headers: _extends({\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, options.headers)\n    })).then(function (response) {\n      return response.json();\n    });\n  };\n}\n\nfunction hasNextPage(paginatedModels) {\n  return paginatedModels && paginatedModels.length && paginatedModels[paginatedModels.length - 1].hasNextPage;\n}\n\n/**\n * The Client class used to create and send GraphQL documents, fragments, queries and mutations.\n */\n\nvar Client$2 = function () {\n\n  /**\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} options An options object. Must include either `url` and optional `fetcherOptions` OR a `fetcher` function.\n   *   @param {(String|Function)} options.url|fetcher Either the URL of the GraphQL API endpoint, or a custom fetcher function for further customization.\n   *   @param {Object} [options.fetcherOptions] Additional options to use with `fetch`, like headers. Do not specify this argument if `fetcher` is specified.\n   *   @param {ClassRegistry} [options.registry=new ClassRegistry()] A {@link ClassRegistry} used to decode the response data.\n   */\n  function Client(typeBundle, _ref) {\n    var url = _ref.url,\n        fetcherOptions = _ref.fetcherOptions,\n        fetcher = _ref.fetcher,\n        _ref$registry = _ref.registry,\n        registry = _ref$registry === undefined ? new ClassRegistry() : _ref$registry;\n    classCallCheck(this, Client);\n\n    this.typeBundle = typeBundle;\n    this.classRegistry = registry;\n\n    if (url && fetcher) {\n      throw new Error('Arguments not supported: supply either `url` and optional `fetcherOptions` OR use a `fetcher` function for further customization.');\n    }\n\n    if (url) {\n      this.fetcher = httpFetcher(url, fetcherOptions);\n    } else if (fetcher) {\n      if (fetcherOptions) {\n        throw new Error('Arguments not supported: when specifying your own `fetcher`, set options through it and not with `fetcherOptions`');\n      }\n\n      this.fetcher = fetcher;\n    } else {\n      throw new Error('Invalid arguments: one of `url` or `fetcher` is needed.');\n    }\n  }\n\n  /**\n   * Creates a GraphQL document.\n   *\n   * @example\n   * const document = client.document();\n   *\n   * @return {Document} A GraphQL document.\n   */\n\n  createClass(Client, [{\n    key: 'document',\n    value: function document() {\n      return new Document(this.typeBundle);\n    }\n\n    /**\n     * Creates a GraphQL query.\n     *\n     * @example\n     * const query = client.query('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the query.\n     * @param {VariableDefinition[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Query} A GraphQL query.\n     */\n\n  }, {\n    key: 'query',\n    value: function query() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return new (Function.prototype.bind.apply(Query, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Creates a GraphQL mutation.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * const mutation = client.mutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the mutation.\n     * @param {VariableDefinition[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The mutation builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Mutation} A GraphQL mutation.\n     */\n\n  }, {\n    key: 'mutation',\n    value: function mutation() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return new (Function.prototype.bind.apply(Mutation, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Sends a GraphQL operation (query or mutation) or a document.\n     *\n     * @example\n     * client.send(query, {id: '12345'}).then((result) => {\n     *   // Do something with the returned result\n     *   console.log(result);\n     * });\n     *\n     * @param {(Query|Mutation|Document|Function)} request The operation or document to send. If represented\n     * as a function, it must return `Query`, `Mutation`, or `Document` and recieve the client as the only param.\n     * @param {Object} [variableValues] The values for variables in the operation or document.\n     * @param {Object} [otherProperties] Other properties to send with the query. For example, a custom operation name.\n     * @return {Promise.<Object>} A promise resolving to an object containing the response data.\n     */\n\n  }, {\n    key: 'send',\n    value: function send(request) {\n      var _this = this;\n\n      var variableValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var otherProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      var operationOrDocument = void 0;\n\n      if (Function.prototype.isPrototypeOf(request)) {\n        operationOrDocument = request(this);\n      } else {\n        operationOrDocument = request;\n      }\n\n      var graphQLParams = { query: operationOrDocument.toString() };\n\n      if (variableValues) {\n        graphQLParams.variables = variableValues;\n      }\n\n      Object.assign(graphQLParams, otherProperties);\n\n      var operation = void 0;\n\n      if (Operation.prototype.isPrototypeOf(operationOrDocument)) {\n        operation = operationOrDocument;\n      } else {\n        var document = operationOrDocument;\n\n        if (document.operations.length === 1) {\n          operation = document.operations[0];\n        } else if (otherProperties.operationName) {\n          operation = document.operations.find(function (documentOperation) {\n            return documentOperation.name === otherProperties.operationName;\n          });\n        } else {\n          throw new Error('\\n          A document must contain exactly one operation, or an operationName\\n          must be specified. Example:\\n\\n            client.send(document, null, {operationName: \\'myFancyQuery\\'});\\n        ');\n        }\n      }\n\n      return this.fetcher(graphQLParams).then(function (response) {\n        if (response.data) {\n          response.model = decode(operation, response.data, {\n            classRegistry: _this.classRegistry,\n            variableValues: variableValues\n          });\n        }\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches the next page of a paginated node or array of nodes.\n     *\n     * @example\n     * client.fetchNextPage(node, {first: 10}).then((result) => {\n     *   // Do something with the next page\n     *   console.log(result);\n     * });\n     *\n     * @param {(GraphModel|GraphModel[])} nodeOrNodes The node or list of nodes on which to fetch the next page.\n     * @param {Object} [options] Options object containing:\n     *   @param {Integer} [options.first] The number of nodes to query on the next page. Defaults to the page size of the previous query.\n     * @return {Promise.<GraphModel[]>} A promise resolving with the next page of {@link GraphModel}s.\n     */\n\n  }, {\n    key: 'fetchNextPage',\n    value: function fetchNextPage(nodeOrNodes, options) {\n      var node = void 0;\n\n      if (Array.isArray(nodeOrNodes)) {\n        node = nodeOrNodes[nodeOrNodes.length - 1];\n      } else {\n        node = nodeOrNodes;\n      }\n\n      var _node$nextPageQueryAn = node.nextPageQueryAndPath(),\n          _node$nextPageQueryAn2 = slicedToArray(_node$nextPageQueryAn, 2),\n          query = _node$nextPageQueryAn2[0],\n          path = _node$nextPageQueryAn2[1];\n\n      var variableValues = void 0;\n\n      if (node.variableValues || options) {\n        variableValues = Object.assign({}, node.variableValues, options);\n      }\n\n      return this.send(query, variableValues).then(function (response) {\n        response.model = path.reduce(function (object, key) {\n          return object[key];\n        }, response.model);\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches all subsequent pages of a paginated array of nodes.\n     *\n     * @example\n     * client.fetchAllPages(nodes, {pageSize: 20}).then((result) => {\n     *   // Do something with all the models\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel[]} paginatedModels The list of nodes on which to fetch all pages.\n     * @param {Object} options Options object containing:\n     *   @param {Integer} options.pageSize The number of nodes to query on each page.\n     * @return {Promise.<GraphModel[]>} A promise resolving with all pages of {@link GraphModel}s, including the original list.\n     */\n\n  }, {\n    key: 'fetchAllPages',\n    value: function fetchAllPages(paginatedModels, _ref2) {\n      var _this2 = this;\n\n      var pageSize = _ref2.pageSize;\n\n      if (hasNextPage(paginatedModels)) {\n        return this.fetchNextPage(paginatedModels, { first: pageSize }).then(function (_ref3) {\n          var model = _ref3.model;\n\n          var pages = paginatedModels.concat(model);\n\n          return _this2.fetchAllPages(pages, { pageSize: pageSize });\n        });\n      }\n\n      return Promise.resolve(paginatedModels);\n    }\n\n    /**\n     * Refetches a {@link GraphModel} whose type implements `Node`.\n     *\n     * @example\n     * client.refetch(node).then((result) => {\n     *   // Do something with the refetched node\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel} nodeType A {@link GraphModel} whose type implements `Node`.\n     * @return {Promise.<GraphModel>} The refetched {@link GraphModel}.\n     */\n\n  }, {\n    key: 'refetch',\n    value: function refetch(nodeType) {\n      if (!nodeType) {\n        throw new Error('\\'client#refetch\\' must be called with a non-null instance of a Node.');\n      } else if (!nodeType.type.implementsNode) {\n        throw new Error('\\'client#refetch\\' must be called with a type that implements Node. Received ' + nodeType.type.name + '.');\n      }\n\n      return this.send(nodeType.refetchQuery()).then(function (_ref4) {\n        var model = _ref4.model;\n        return model.node;\n      });\n    }\n\n    /**\n     * Creates a variable to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const idVariable = client.variable('id', 'ID!', '12345');\n     *\n     * @param {String} name The name of the variable.\n     * @param {String} type The GraphQL type of the variable.\n     * @param {*} [defaultValue] The default value of the variable.\n     * @return {VariableDefinition} A variable object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'variable',\n    value: function variable$$1(name, type, defaultValue) {\n      return variable(name, type, defaultValue);\n    }\n\n    /**\n     * Creates an enum to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const titleEnum = client.enum('TITLE');\n     *\n     * @param {String} key The key of the enum.\n     * @return {Enum} An enum object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'enum',\n    value: function _enum(key) {\n      return enumFunction(key);\n    }\n  }]);\n  return Client;\n}();\n\n/**\n * The class used to configure the JS Buy SDK Client.\n * @class\n */\nvar Config = function () {\n  createClass$1(Config, [{\n    key: 'requiredProperties',\n\n\n    /**\n     * Properties that must be set on initializations\n     * @attribute requiredProperties\n     * @default ['storefrontAccessToken', 'domain']\n     * @type Array\n     * @private\n     */\n    get: function get$$1() {\n      return ['storefrontAccessToken', 'domain'];\n    }\n\n    /**\n     * Deprecated properties that map directly to required properties\n     * @attribute deprecatedProperties\n     * @default {'accessToken': 'storefrontAccessToken', 'apiKey': 'storefrontAccessToken'}\n     * @type Object\n     * @private\n     */\n\n  }, {\n    key: 'deprecatedProperties',\n    get: function get$$1() {\n      return {\n        accessToken: 'storefrontAccessToken',\n        apiKey: 'storefrontAccessToken'\n      };\n    }\n\n    /**\n     * @constructs Config\n     * @param {Object} attrs An object specifying the configuration. Requires the following properties:\n     *   @param {String} attrs.storefrontAccessToken The {@link https://help.shopify.com/api/reference/storefront_access_token|Storefront access token} for the shop.\n     *   @param {String} attrs.domain The `myshopify` domain for the shop (e.g. `graphql.myshopify.com`).\n     */\n\n  }]);\n\n  function Config(attrs) {\n    var _this = this;\n\n    classCallCheck$1(this, Config);\n\n    Object.keys(this.deprecatedProperties).forEach(function (key) {\n      if (!attrs.hasOwnProperty(key)) {\n        return;\n      }\n      // eslint-disable-next-line no-console\n      console.warn('[ShopifyBuy] Config property ' + key + ' is deprecated as of v1.0, please use ' + _this.deprecatedProperties[key] + ' instead.');\n      attrs[_this.deprecatedProperties[key]] = attrs[key];\n    });\n\n    this.requiredProperties.forEach(function (key) {\n      if (attrs.hasOwnProperty(key)) {\n        _this[key] = attrs[key];\n      } else {\n        throw new Error('new Config() requires the option \\'' + key + '\\'');\n      }\n    });\n  }\n\n  return Config;\n}();\n\nvar Resource = function Resource(client) {\n  classCallCheck$1(this, Resource);\n\n  this.graphQLClient = client;\n};\n\nvar defaultErrors = [{ message: 'an unknown error has occured.' }];\n\nfunction defaultResolver(path) {\n  var keys = path.split('.');\n\n  return function (_ref) {\n    var model = _ref.model,\n        errors = _ref.errors;\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var result = keys.reduce(function (ref, key) {\n          return ref[key];\n        }, model);\n\n        resolve(result);\n      } catch (_) {\n        if (errors) {\n          reject(errors);\n        } else {\n          reject(defaultErrors);\n        }\n      }\n    });\n  };\n}\n\nfunction fetchResourcesForProducts(productOrProduct, client) {\n  var products = [].concat(productOrProduct);\n\n  return Promise.all(products.reduce(function (promiseAcc, product) {\n    // Fetch the rest of the images and variants for this product\n    promiseAcc.push(client.fetchAllPages(product.images, { pageSize: 250 }).then(function (images) {\n      product.attrs.images = images;\n    }));\n\n    promiseAcc.push(client.fetchAllPages(product.variants, { pageSize: 250 }).then(function (variants) {\n      product.attrs.variants = variants;\n    }));\n\n    return promiseAcc;\n  }, []));\n}\n\nfunction paginateProductConnectionsAndResolve(client) {\n  return function (products) {\n    return fetchResourcesForProducts(products, client).then(function () {\n      return products;\n    });\n  };\n}\n\nfunction paginateCollectionsProductConnectionsAndResolve(client) {\n  return function (collectionOrCollections) {\n    var collections = [].concat(collectionOrCollections);\n\n    return Promise.all(collections.reduce(function (promiseAcc, collection) {\n      return promiseAcc.concat(fetchResourcesForProducts(collection.products, client));\n    }, [])).then(function () {\n      return collectionOrCollections;\n    });\n  };\n}\n\n/**\n * @namespace ProductHelpers\n */\nvar productHelpers = {\n\n  /**\n   * Returns the variant of a product corresponding to the options given.\n   *\n   * @example\n   * const selectedVariant = client.product.variantForOptions(product, {\n   *   size: \"Small\",\n   *   color: \"Red\"\n   * });\n   *\n   * @memberof ProductHelpers\n   * @method variantForOptions\n   * @param {GraphModel} product The product to find the variant on. Must include `variants`.\n   * @param {Object} options An object containing the options for the variant.\n   * @return {GraphModel} The variant corresponding to the options given.\n   */\n  variantForOptions: function variantForOptions(product, options) {\n    return product.variants.find(function (variant) {\n      return variant.selectedOptions.every(function (selectedOption) {\n        return options[selectedOption.name] === selectedOption.value.valueOf();\n      });\n    });\n  }\n};\n\nfunction query(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$1(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.ids = client.variable(\"ids\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.ids], function (root) {\n    root.add(\"nodes\", {\n      args: {\n        ids: variables.__defaultOperation__.ids\n      }\n    }, function (nodes) {\n      nodes.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$2(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"ProductSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"products\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (products) {\n        products.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        products.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.ProductFragment);\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$3(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"productByHandle\", {\n        args: {\n          handle: variables.__defaultOperation__.handle\n        }\n      }, function (productByHandle) {\n        productByHandle.addFragment(spreads.ProductFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK product resource\n * @class\n */\n\nvar ProductResource = function (_Resource) {\n  inherits$1(ProductResource, _Resource);\n\n  function ProductResource() {\n    classCallCheck$1(this, ProductResource);\n    return possibleConstructorReturn$1(this, (ProductResource.__proto__ || Object.getPrototypeOf(ProductResource)).apply(this, arguments));\n  }\n\n  createClass$1(ProductResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all products on the shop.\n     *\n     * @example\n     * client.product.fetchAll().then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {Int} [pageSize] The number of products to fetch per page\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$2, { first: first }).then(defaultResolver('shop.products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by ID on the shop.\n     *\n     * @example\n     * client.product.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} id The id of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query, { id: id }).then(defaultResolver('node')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches multiple products by ID on the shop.\n     *\n     * @example\n     * const ids = ['Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==', 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ='];\n     * client.product.fetchMultiple(ids).then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {String[]} ids The ids of the products to fetch\n     * @return {Promise|GraphModel[]} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchMultiple',\n    value: function fetchMultiple(ids) {\n      return this.graphQLClient.send(query$1, { ids: ids }).then(defaultResolver('nodes')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by handle on the shop.\n     *\n     * @example\n     * client.product.fetchByHandle('my-product').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} handle The handle of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$3, { handle: handle }).then(defaultResolver('shop.productByHandle')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches all products on the shop that match the query.\n     *\n     * @example\n     * client.product.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((products) => {\n     *   // Do something with the first 10 products sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/productsortkeys|Product Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#products|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$sortKey = _ref.sortKey,\n          sortKey = _ref$sortKey === undefined ? 'ID' : _ref$sortKey,\n          query$$1 = _ref.query,\n          reverse = _ref.reverse;\n\n      return this.graphQLClient.send(query$2, {\n        first: first,\n        sortKey: sortKey,\n        query: query$$1,\n        reverse: reverse\n      }).then(defaultResolver('shop.products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n  }, {\n    key: 'helpers',\n    get: function get$$1() {\n      return productHelpers;\n    }\n  }]);\n  return ProductResource;\n}(Resource);\n\nfunction query$4(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$5(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.CollectionsProductsFragment = document.defineFragment(\"CollectionsProductsFragment\", \"Collection\", function (root) {\n    root.add(\"products\", {\n      args: {\n        first: 20\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n      node.addFragment(spreads.CollectionsProductsFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$6(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collections\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (collections) {\n        collections.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        collections.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.CollectionFragment);\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$7(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  variables.__defaultOperation__.productsFirst = client.variable(\"productsFirst\", \"Int!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse, variables.__defaultOperation__.productsFirst], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collections\", {\n        args: {\n          first: variables.__defaultOperation__.first,\n          query: variables.__defaultOperation__.query,\n          sortKey: variables.__defaultOperation__.sortKey,\n          reverse: variables.__defaultOperation__.reverse\n        }\n      }, function (collections) {\n        collections.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        collections.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.addFragment(spreads.CollectionFragment);\n            node.add(\"products\", {\n              args: {\n                first: variables.__defaultOperation__.productsFirst\n              }\n            }, function (products) {\n              products.add(\"pageInfo\", function (pageInfo) {\n                pageInfo.add(\"hasNextPage\");\n                pageInfo.add(\"hasPreviousPage\");\n              });\n              products.add(\"edges\", function (edges) {\n                edges.add(\"cursor\");\n                edges.add(\"node\", function (node) {\n                  node.addFragment(spreads.ProductFragment);\n                });\n              });\n            });\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$8(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"tags\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"src\");\n          node.add(\"altText\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n  });\n  spreads.CollectionsProductsFragment = document.defineFragment(\"CollectionsProductsFragment\", \"Collection\", function (root) {\n    root.add(\"products\", {\n      args: {\n        first: 20\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"collectionByHandle\", {\n        args: {\n          handle: variables.__defaultOperation__.handle\n        }\n      }, function (collectionByHandle) {\n        collectionByHandle.addFragment(spreads.CollectionFragment);\n        collectionByHandle.addFragment(spreads.CollectionsProductsFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK collection resource\n * @class\n */\n\nvar CollectionResource = function (_Resource) {\n  inherits$1(CollectionResource, _Resource);\n\n  function CollectionResource() {\n    classCallCheck$1(this, CollectionResource);\n    return possibleConstructorReturn$1(this, (CollectionResource.__proto__ || Object.getPrototypeOf(CollectionResource)).apply(this, arguments));\n  }\n\n  createClass$1(CollectionResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all collections on the shop, not including products.\n     * To fetch collections with products use [fetchAllsWithProducts]{@link Client#fetchAllsWithProducts}.\n     *\n     * @example\n     * client.collection.fetchAll().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$6, { first: first }).then(defaultResolver('shop.collections'));\n    }\n\n    /**\n     * Fetches all collections on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchAllWithProducts().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchAllWithProducts',\n    value: function fetchAllWithProducts() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$productsFirst = _ref.productsFirst,\n          productsFirst = _ref$productsFirst === undefined ? 20 : _ref$productsFirst;\n\n      return this.graphQLClient.send(query$7, { first: first, productsFirst: productsFirst }).then(defaultResolver('shop.collections')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, not including products.\n     * To fetch the collection with products use [fetchWithProducts]{@link Client#fetchWithProducts}.\n     *\n     * @example\n     * client.collection.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query$4, { id: id }).then(defaultResolver('node'));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchWithProducts('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchWithProducts',\n    value: function fetchWithProducts(id) {\n      return this.graphQLClient.send(query$5, { id: id }).then(defaultResolver('node')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a collection by handle on the shop.\n     *\n     * @example\n     * client.collection.fetchByHandle('my-collection').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} handle The handle of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$8, { handle: handle }).then(defaultResolver('shop.collectionByHandle'));\n    }\n\n    /**\n     * Fetches all collections on the shop that match the query.\n     *\n     * @example\n     * client.collection.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((collections) => {\n     *   // Do something with the first 10 collections sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/collectionsortkeys|Collection Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#collections|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$first = _ref2.first,\n          first = _ref2$first === undefined ? 20 : _ref2$first,\n          _ref2$sortKey = _ref2.sortKey,\n          sortKey = _ref2$sortKey === undefined ? 'ID' : _ref2$sortKey,\n          query = _ref2.query,\n          reverse = _ref2.reverse;\n\n      return this.graphQLClient.send(query$6, {\n        first: first,\n        sortKey: sortKey,\n        query: query,\n        reverse: reverse\n      }).then(defaultResolver('shop.collections'));\n    }\n  }]);\n  return CollectionResource;\n}(Resource);\n\nfunction query$9(client) {\n  var document = client.document();\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"currencyCode\");\n      shop.add(\"description\");\n      shop.add(\"moneyFormat\");\n      shop.add(\"name\");\n      shop.add(\"primaryDomain\", function (primaryDomain) {\n        primaryDomain.add(\"host\");\n        primaryDomain.add(\"sslEnabled\");\n        primaryDomain.add(\"url\");\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$10(client) {\n  var document = client.document();\n  var spreads = {};\n  spreads.PolicyFragment = document.defineFragment(\"PolicyFragment\", \"ShopPolicy\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"url\");\n    root.add(\"body\");\n  });\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"privacyPolicy\", function (privacyPolicy) {\n        privacyPolicy.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"termsOfService\", function (termsOfService) {\n        termsOfService.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"refundPolicy\", function (refundPolicy) {\n        refundPolicy.addFragment(spreads.PolicyFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK shop resource\n * @class\n */\n\nvar ShopResource = function (_Resource) {\n  inherits$1(ShopResource, _Resource);\n\n  function ShopResource() {\n    classCallCheck$1(this, ShopResource);\n    return possibleConstructorReturn$1(this, (ShopResource.__proto__ || Object.getPrototypeOf(ShopResource)).apply(this, arguments));\n  }\n\n  createClass$1(ShopResource, [{\n    key: 'fetchInfo',\n\n\n    /**\n     * Fetches shop information (`currencyCode`, `description`, `moneyFormat`, `name`, and `primaryDomain`).\n     * See the {@link https://help.shopify.com/api/storefront-api/reference/object/shop|Storefront API reference} for more information.\n     *\n     * @example\n     * client.shop.fetchInfo().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n    value: function fetchInfo() {\n      return this.graphQLClient.send(query$9).then(defaultResolver('shop'));\n    }\n\n    /**\n     * Fetches shop policies (privacy policy, terms of service and refund policy).\n     *\n     * @example\n     * client.shop.fetchPolicies().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n\n  }, {\n    key: 'fetchPolicies',\n    value: function fetchPolicies() {\n      return this.graphQLClient.send(query$10).then(defaultResolver('shop'));\n    }\n  }]);\n  return ShopResource;\n}(Resource);\n\nfunction handleCheckoutMutation(mutationRootKey, client) {\n  return function (_ref) {\n    var data = _ref.data,\n        errors = _ref.errors,\n        model = _ref.model;\n\n    var rootData = data[mutationRootKey];\n    var rootModel = model[mutationRootKey];\n\n    if (rootData && rootData.checkout) {\n      return client.fetchAllPages(rootModel.checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n        rootModel.checkout.attrs.lineItems = lineItems;\n        rootModel.checkout.errors = errors;\n        rootModel.checkout.userErrors = rootModel.userErrors;\n\n        return rootModel.checkout;\n      });\n    }\n\n    if (errors && errors.length) {\n      return Promise.reject(new Error(JSON.stringify(errors)));\n    }\n\n    if (rootData && rootData.userErrors && rootData.userErrors.length) {\n      return Promise.reject(new Error(JSON.stringify(rootData.userErrors)));\n    }\n\n    return Promise.reject(new Error(\"The \" + mutationRootKey + \" mutation failed due to an unknown error.\"));\n  };\n}\n\nfunction query$11(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CheckoutFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$12(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.input = client.variable(\"input\", \"CheckoutCreateInput!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.input], function (root) {\n    root.add(\"checkoutCreate\", {\n      args: {\n        input: variables.__defaultOperation__.input\n      }\n    }, function (checkoutCreate) {\n      checkoutCreate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutCreate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$13(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsAdd\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsAdd) {\n      checkoutLineItemsAdd.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsAdd.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$14(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItemIds = client.variable(\"lineItemIds\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItemIds], function (root) {\n    root.add(\"checkoutLineItemsRemove\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItemIds: variables.__defaultOperation__.lineItemIds\n      }\n    }, function (checkoutLineItemsRemove) {\n      checkoutLineItemsRemove.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsRemove.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$15(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemUpdateInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsUpdate\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsUpdate) {\n      checkoutLineItemsUpdate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsUpdate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$16(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutAttributesUpdate = {};\n  variables.checkoutAttributesUpdate.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.checkoutAttributesUpdate.input = client.variable(\"input\", \"CheckoutAttributesUpdateInput!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutAttributesUpdate\", [variables.checkoutAttributesUpdate.checkoutId, variables.checkoutAttributesUpdate.input], function (root) {\n    root.add(\"checkoutAttributesUpdate\", {\n      args: {\n        checkoutId: variables.checkoutAttributesUpdate.checkoutId,\n        input: variables.checkoutAttributesUpdate.input\n      }\n    }, function (checkoutAttributesUpdate) {\n      checkoutAttributesUpdate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutAttributesUpdate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$17(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutDiscountCodeApply = {};\n  variables.checkoutDiscountCodeApply.discountCode = client.variable(\"discountCode\", \"String!\");\n  variables.checkoutDiscountCodeApply.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutDiscountCodeApply\", [variables.checkoutDiscountCodeApply.discountCode, variables.checkoutDiscountCodeApply.checkoutId], function (root) {\n    root.add(\"checkoutDiscountCodeApply\", {\n      args: {\n        discountCode: variables.checkoutDiscountCodeApply.discountCode,\n        checkoutId: variables.checkoutDiscountCodeApply.checkoutId\n      }\n    }, function (checkoutDiscountCodeApply) {\n      checkoutDiscountCodeApply.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutDiscountCodeApply.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$18(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutEmailUpdate = {};\n  variables.checkoutEmailUpdate.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.checkoutEmailUpdate.email = client.variable(\"email\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\");\n    root.add(\"weight\");\n    root.add(\"available\");\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"src\");\n      image.add(\"altText\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCode\");\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\");\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\");\n    root.add(\"subtotalPrice\");\n    root.add(\"totalPrice\");\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\");\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\");\n      order.add(\"totalShippingPrice\");\n      order.add(\"totalTax\");\n      order.add(\"totalPrice\");\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\");\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutEmailUpdate\", [variables.checkoutEmailUpdate.checkoutId, variables.checkoutEmailUpdate.email], function (root) {\n    root.add(\"checkoutEmailUpdate\", {\n      args: {\n        checkoutId: variables.checkoutEmailUpdate.checkoutId,\n        email: variables.checkoutEmailUpdate.email\n      }\n    }, function (checkoutEmailUpdate) {\n      checkoutEmailUpdate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutEmailUpdate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK checkout resource\n * @class\n */\n\nvar CheckoutResource = function (_Resource) {\n  inherits$1(CheckoutResource, _Resource);\n\n  function CheckoutResource() {\n    classCallCheck$1(this, CheckoutResource);\n    return possibleConstructorReturn$1(this, (CheckoutResource.__proto__ || Object.getPrototypeOf(CheckoutResource)).apply(this, arguments));\n  }\n\n  createClass$1(CheckoutResource, [{\n    key: 'fetch',\n\n\n    /**\n     * Fetches a checkout by ID.\n     *\n     * @example\n     * client.checkout.fetch('FlZj9rZXlN5MDY4ZDFiZTUyZTUwNTE2MDNhZjg=').then((checkout) => {\n     *   // Do something with the checkout\n     * });\n     *\n     * @param {String} id The id of the checkout to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the checkout.\n     */\n    value: function fetch(id) {\n      var _this2 = this;\n\n      return this.graphQLClient.send(query$11, { id: id }).then(defaultResolver('node')).then(function (checkout) {\n        return _this2.graphQLClient.fetchAllPages(checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n          checkout.attrs.lineItems = lineItems;\n\n          return checkout;\n        });\n      });\n    }\n\n    /**\n     * Creates a checkout.\n     *\n     * @example\n     * const input = {\n     *   lineItems: [\n     *     {variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}\n     *   ]\n     * };\n     *\n     * client.checkout.create(input).then((checkout) => {\n     *   // Do something with the newly created checkout\n     * });\n     *\n     * @param {Object} [input] An input object containing zero or more of:\n     *   @param {String} [input.email] An email connected to the checkout.\n     *   @param {Object[]} [input.lineItems] A list of line items in the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     *   @param {Object} [input.shippingAddress] A shipping address. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/mailingaddressinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.note] A note for the checkout.\n     *   @param {Object[]} [input.customAttributes] A list of custom attributes for the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/attributeinput|Storefront API reference} for valid input fields.\n     * @return {Promise|GraphModel} A promise resolving with the created checkout.\n     */\n\n  }, {\n    key: 'create',\n    value: function create() {\n      var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.graphQLClient.send(query$12, { input: input }).then(handleCheckoutMutation('checkoutCreate', this.graphQLClient));\n    }\n\n    /**\n     * Replaces the value of checkout's custom attributes and/or note with values defined in the input\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const input = {customAttributes: [{key: \"MyKey\", value: \"MyValue\"}]};\n     *\n     * client.checkout.updateAttributes(checkoutId, input).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update.\n     * @param {Object} [input] An input object containing zero or more of:\n     *   @param {Boolean} [input.allowPartialAddresses] An email connected to the checkout.\n     *   @param {Object[]} [input.customAttributes] A list of custom attributes for the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/attributeinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.note] A note for the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateAttributes',\n    value: function updateAttributes(checkoutId) {\n      var input = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return this.graphQLClient.send(query$16, { checkoutId: checkoutId, input: input }).then(handleCheckoutMutation('checkoutAttributesUpdate', this.graphQLClient));\n    }\n\n    /**\n     * Replaces the value of checkout's email address\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const email = 'user@example.com';\n     *\n     * client.checkout.updateEmail(checkoutId, email).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add discount to.\n     * @param {String} email The email address to apply to the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateEmail',\n    value: function updateEmail(checkoutId, email) {\n      return this.graphQLClient.send(query$18, { checkoutId: checkoutId, email: email }).then(handleCheckoutMutation('checkoutEmailUpdate', this.graphQLClient));\n    }\n\n    /**\n     * Adds line items to an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [{variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}];\n     *\n     * client.checkout.addLineItems(checkoutId, lineItems).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add line items to.\n     * @param {Object[]} lineItems A list of line items to add to the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addLineItems',\n    value: function addLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$13, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsAdd', this.graphQLClient));\n    }\n\n    /**\n     * Applies a discount to an existing checkout using a discount code.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const discountCode = 'best-discount-ever';\n     *\n     * client.checkout.addDiscount(checkoutId, discountCode).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add discount to.\n     * @param {String} discountCode The discount code to apply to the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addDiscount',\n    value: function addDiscount(checkoutId, discountCode) {\n      return this.graphQLClient.send(query$17, { checkoutId: checkoutId, discountCode: discountCode }).then(handleCheckoutMutation('checkoutDiscountCodeApply', this.graphQLClient));\n    }\n\n    /**\n     * Removes line items from an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItemIds = ['TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU='];\n     *\n     * client.checkout.removeLineItems(checkoutId, lineItemIds).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to remove line items from.\n     * @param {String[]} lineItemIds A list of the ids of line items to remove from the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'removeLineItems',\n    value: function removeLineItems(checkoutId, lineItemIds) {\n      return this.graphQLClient.send(query$14, { checkoutId: checkoutId, lineItemIds: lineItemIds }).then(handleCheckoutMutation('checkoutLineItemsRemove', this.graphQLClient));\n    }\n\n    /**\n     * Updates line items on an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [\n     *   {\n     *     id: 'TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU=',\n     *     quantity: 5,\n     *     variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg=='\n     *   }\n     * ];\n     *\n     * client.checkout.updateLineItems(checkoutId, lineItems).then(checkout => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update a line item on.\n     * @param {Object[]} lineItems A list of line item information to update. See the {@link https://help.shopify.com/api/storefront-api/reference/input_object/checkoutlineitemupdateinput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateLineItems',\n    value: function updateLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$15, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsUpdate', this.graphQLClient));\n    }\n  }]);\n  return CheckoutResource;\n}(Resource);\n\n/**\n * @namespace ImageHelpers\n */\nvar imageHelpers = {\n\n  /**\n   * Generates the image src for a resized image with maximum dimensions `maxWidth` and `maxHeight`.\n   * Images do not scale up.\n   *\n   * @example\n   * const url = client.image.helpers.imageForSize(product.variants[0].image, {maxWidth: 50, maxHeight: 50});\n   *\n   * @memberof ImageHelpers\n   * @method imageForSize\n   * @param {Object} image The original image model to generate the image src for.\n   * @param {Object} options An options object containing:\n   *  @param {Integer} options.maxWidth The maximum width for the image.\n   *  @param {Integer} options.maxHeight The maximum height for the image.\n   * @return {String} The image src for the resized image.\n   */\n  imageForSize: function imageForSize(image, _ref) {\n    var maxWidth = _ref.maxWidth,\n        maxHeight = _ref.maxHeight;\n\n    var splitUrl = image.src.split('?');\n    var notQuery = splitUrl[0];\n    var query = splitUrl[1] ? '?' + splitUrl[1] : '';\n\n    // Use the section before the query\n    var imageTokens = notQuery.split('.');\n\n    // Take the token before the file extension and append the dimensions\n    var imagePathIndex = imageTokens.length - 2;\n\n    imageTokens[imagePathIndex] = imageTokens[imagePathIndex] + '_' + maxWidth + 'x' + maxHeight;\n\n    return '' + imageTokens.join('.') + query;\n  }\n};\n\n/**\n * The JS Buy SDK image resource\n * @class\n */\n\nvar ImageResource = function (_Resource) {\n  inherits$1(ImageResource, _Resource);\n\n  function ImageResource() {\n    classCallCheck$1(this, ImageResource);\n    return possibleConstructorReturn$1(this, (ImageResource.__proto__ || Object.getPrototypeOf(ImageResource)).apply(this, arguments));\n  }\n\n  createClass$1(ImageResource, [{\n    key: 'helpers',\n    get: function get$$1() {\n      return imageHelpers;\n    }\n  }]);\n  return ImageResource;\n}(Resource);\n\nvar version = \"1.8.0\";\n\nvar QueryRoot = {\n  \"name\": \"QueryRoot\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"node\": \"Node\",\n    \"nodes\": \"Node\",\n    \"shop\": \"Shop\"\n  },\n  \"implementsNode\": false\n};\n\nvar Node = {\n  \"name\": \"Node\",\n  \"kind\": \"INTERFACE\",\n  \"fieldBaseTypes\": {},\n  \"possibleTypes\": [\"AppliedGiftCard\", \"Article\", \"Blog\", \"Checkout\", \"CheckoutLineItem\", \"Collection\", \"Comment\", \"MailingAddress\", \"Order\", \"Payment\", \"Product\", \"ProductOption\", \"ProductVariant\", \"ShopPolicy\"]\n};\n\nvar ID = {\n  \"name\": \"ID\",\n  \"kind\": \"SCALAR\"\n};\n\nvar String$1 = {\n  \"name\": \"String\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Boolean$1 = {\n  \"name\": \"Boolean\",\n  \"kind\": \"SCALAR\"\n};\n\nvar DateTime = {\n  \"name\": \"DateTime\",\n  \"kind\": \"SCALAR\"\n};\n\nvar MailingAddress = {\n  \"name\": \"MailingAddress\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"address1\": \"String\",\n    \"address2\": \"String\",\n    \"city\": \"String\",\n    \"company\": \"String\",\n    \"country\": \"String\",\n    \"countryCode\": \"String\",\n    \"firstName\": \"String\",\n    \"formatted\": \"String\",\n    \"id\": \"ID\",\n    \"lastName\": \"String\",\n    \"latitude\": \"Float\",\n    \"longitude\": \"Float\",\n    \"name\": \"String\",\n    \"phone\": \"String\",\n    \"province\": \"String\",\n    \"provinceCode\": \"String\",\n    \"zip\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar Float = {\n  \"name\": \"Float\",\n  \"kind\": \"SCALAR\"\n};\n\nvar PageInfo = {\n  \"name\": \"PageInfo\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"hasNextPage\": \"Boolean\",\n    \"hasPreviousPage\": \"Boolean\"\n  },\n  \"implementsNode\": false\n};\n\nvar Int = {\n  \"name\": \"Int\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Order = {\n  \"name\": \"Order\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"currencyCode\": \"CurrencyCode\",\n    \"customerUrl\": \"URL\",\n    \"id\": \"ID\",\n    \"lineItems\": \"OrderLineItemConnection\",\n    \"orderNumber\": \"Int\",\n    \"processedAt\": \"DateTime\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"subtotalPrice\": \"Money\",\n    \"totalPrice\": \"Money\",\n    \"totalRefunded\": \"Money\",\n    \"totalShippingPrice\": \"Money\",\n    \"totalTax\": \"Money\"\n  },\n  \"implementsNode\": true\n};\n\nvar Money = {\n  \"name\": \"Money\",\n  \"kind\": \"SCALAR\"\n};\n\nvar CurrencyCode = {\n  \"name\": \"CurrencyCode\",\n  \"kind\": \"ENUM\"\n};\n\nvar URL = {\n  \"name\": \"URL\",\n  \"kind\": \"SCALAR\"\n};\n\nvar OrderLineItemConnection = {\n  \"name\": \"OrderLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"OrderLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItemEdge = {\n  \"name\": \"OrderLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"OrderLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItem = {\n  \"name\": \"OrderLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductVariant = {\n  \"name\": \"ProductVariant\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"available\": \"Boolean\",\n    \"compareAtPrice\": \"Money\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"price\": \"Money\",\n    \"product\": \"Product\",\n    \"selectedOptions\": \"SelectedOption\",\n    \"sku\": \"String\",\n    \"title\": \"String\",\n    \"weight\": \"Float\"\n  },\n  \"implementsNode\": true\n};\n\nvar Image = {\n  \"name\": \"Image\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"altText\": \"String\",\n    \"id\": \"ID\",\n    \"src\": \"URL\"\n  },\n  \"implementsNode\": false\n};\n\nvar SelectedOption = {\n  \"name\": \"SelectedOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Product = {\n  \"name\": \"Product\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"createdAt\": \"DateTime\",\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"images\": \"ImageConnection\",\n    \"onlineStoreUrl\": \"URL\",\n    \"options\": \"ProductOption\",\n    \"productType\": \"String\",\n    \"publishedAt\": \"DateTime\",\n    \"tags\": \"String\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\",\n    \"variants\": \"ProductVariantConnection\",\n    \"vendor\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar CollectionConnection = {\n  \"name\": \"CollectionConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CollectionEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CollectionEdge = {\n  \"name\": \"CollectionEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Collection\"\n  },\n  \"implementsNode\": false\n};\n\nvar Collection = {\n  \"name\": \"Collection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"products\": \"ProductConnection\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\"\n  },\n  \"implementsNode\": true\n};\n\nvar HTML = {\n  \"name\": \"HTML\",\n  \"kind\": \"SCALAR\"\n};\n\nvar ProductConnection = {\n  \"name\": \"ProductConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductEdge = {\n  \"name\": \"ProductEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Product\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageConnection = {\n  \"name\": \"ImageConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ImageEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageEdge = {\n  \"name\": \"ImageEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Image\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductOption = {\n  \"name\": \"ProductOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"values\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar ProductVariantConnection = {\n  \"name\": \"ProductVariantConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductVariantEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductVariantEdge = {\n  \"name\": \"ProductVariantEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar Attribute = {\n  \"name\": \"Attribute\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"key\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Shop = {\n  \"name\": \"Shop\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"collectionByHandle\": \"Collection\",\n    \"collections\": \"CollectionConnection\",\n    \"currencyCode\": \"CurrencyCode\",\n    \"description\": \"String\",\n    \"moneyFormat\": \"String\",\n    \"name\": \"String\",\n    \"primaryDomain\": \"Domain\",\n    \"privacyPolicy\": \"ShopPolicy\",\n    \"productByHandle\": \"Product\",\n    \"products\": \"ProductConnection\",\n    \"refundPolicy\": \"ShopPolicy\",\n    \"termsOfService\": \"ShopPolicy\"\n  },\n  \"implementsNode\": false\n};\n\nvar Domain = {\n  \"name\": \"Domain\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"host\": \"String\",\n    \"sslEnabled\": \"Boolean\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": false\n};\n\nvar ShopPolicy = {\n  \"name\": \"ShopPolicy\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"body\": \"String\",\n    \"id\": \"ID\",\n    \"title\": \"String\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar Mutation$1 = {\n  \"name\": \"Mutation\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkoutAttributesUpdate\": \"CheckoutAttributesUpdatePayload\",\n    \"checkoutCreate\": \"CheckoutCreatePayload\",\n    \"checkoutEmailUpdate\": \"CheckoutEmailUpdatePayload\",\n    \"checkoutLineItemsAdd\": \"CheckoutLineItemsAddPayload\",\n    \"checkoutDiscountCodeApply\": \"CheckoutLineItemsAddPayload\",\n    \"checkoutLineItemsRemove\": \"CheckoutLineItemsRemovePayload\",\n    \"checkoutLineItemsUpdate\": \"CheckoutLineItemsUpdatePayload\"\n  },\n  \"implementsNode\": false,\n  \"relayInputObjectBaseTypes\": {\n    \"checkoutAttributesUpdate\": \"CheckoutAttributesUpdateInput\",\n    \"checkoutCreate\": \"CheckoutCreateInput\",\n    \"customerAccessTokenCreate\": \"CustomerAccessTokenCreateInput\",\n    \"customerActivate\": \"CustomerActivateInput\",\n    \"customerCreate\": \"CustomerCreateInput\",\n    \"customerReset\": \"CustomerResetInput\"\n  }\n};\n\nvar CheckoutAttributesUpdatePayload = {\n  \"name\": \"CheckoutAttributesUpdatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar UserError = {\n  \"name\": \"UserError\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"field\": \"String\",\n    \"message\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Checkout = {\n  \"name\": \"Checkout\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"completedAt\": \"DateTime\",\n    \"createdAt\": \"DateTime\",\n    \"currencyCode\": \"CurrencyCode\",\n    \"customAttributes\": \"Attribute\",\n    \"email\": \"String\",\n    \"id\": \"ID\",\n    \"lineItems\": \"CheckoutLineItemConnection\",\n    \"note\": \"String\",\n    \"order\": \"Order\",\n    \"orderStatusUrl\": \"URL\",\n    \"paymentDue\": \"Money\",\n    \"ready\": \"Boolean\",\n    \"requiresShipping\": \"Boolean\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"shippingLine\": \"ShippingRate\",\n    \"subtotalPrice\": \"Money\",\n    \"taxExempt\": \"Boolean\",\n    \"taxesIncluded\": \"Boolean\",\n    \"totalPrice\": \"Money\",\n    \"totalTax\": \"Money\",\n    \"updatedAt\": \"DateTime\",\n    \"webUrl\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar CheckoutLineItemConnection = {\n  \"name\": \"CheckoutLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CheckoutLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemEdge = {\n  \"name\": \"CheckoutLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"CheckoutLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItem = {\n  \"name\": \"CheckoutLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"id\": \"ID\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": true\n};\n\nvar ShippingRate = {\n  \"name\": \"ShippingRate\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"handle\": \"String\",\n    \"price\": \"Money\",\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutCreatePayload = {\n  \"name\": \"CheckoutCreatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutEmailUpdatePayload = {\n  \"name\": \"CheckoutEmailUpdatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsAddPayload = {\n  \"name\": \"CheckoutLineItemsAddPayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsRemovePayload = {\n  \"name\": \"CheckoutLineItemsRemovePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsUpdatePayload = {\n  \"name\": \"CheckoutLineItemsUpdatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar Types = {\n  types: {}\n};\nTypes.types[\"QueryRoot\"] = QueryRoot;\nTypes.types[\"Node\"] = Node;\nTypes.types[\"ID\"] = ID;\nTypes.types[\"String\"] = String$1;\nTypes.types[\"Boolean\"] = Boolean$1;\nTypes.types[\"DateTime\"] = DateTime;\nTypes.types[\"MailingAddress\"] = MailingAddress;\nTypes.types[\"Float\"] = Float;\nTypes.types[\"PageInfo\"] = PageInfo;\nTypes.types[\"Int\"] = Int;\nTypes.types[\"Order\"] = Order;\nTypes.types[\"Money\"] = Money;\nTypes.types[\"CurrencyCode\"] = CurrencyCode;\nTypes.types[\"URL\"] = URL;\nTypes.types[\"OrderLineItemConnection\"] = OrderLineItemConnection;\nTypes.types[\"OrderLineItemEdge\"] = OrderLineItemEdge;\nTypes.types[\"OrderLineItem\"] = OrderLineItem;\nTypes.types[\"ProductVariant\"] = ProductVariant;\nTypes.types[\"Image\"] = Image;\nTypes.types[\"SelectedOption\"] = SelectedOption;\nTypes.types[\"Product\"] = Product;\nTypes.types[\"CollectionConnection\"] = CollectionConnection;\nTypes.types[\"CollectionEdge\"] = CollectionEdge;\nTypes.types[\"Collection\"] = Collection;\nTypes.types[\"HTML\"] = HTML;\nTypes.types[\"ProductConnection\"] = ProductConnection;\nTypes.types[\"ProductEdge\"] = ProductEdge;\nTypes.types[\"ImageConnection\"] = ImageConnection;\nTypes.types[\"ImageEdge\"] = ImageEdge;\nTypes.types[\"ProductOption\"] = ProductOption;\nTypes.types[\"ProductVariantConnection\"] = ProductVariantConnection;\nTypes.types[\"ProductVariantEdge\"] = ProductVariantEdge;\nTypes.types[\"Attribute\"] = Attribute;\nTypes.types[\"Shop\"] = Shop;\nTypes.types[\"Domain\"] = Domain;\nTypes.types[\"ShopPolicy\"] = ShopPolicy;\nTypes.types[\"Mutation\"] = Mutation$1;\nTypes.types[\"CheckoutAttributesUpdatePayload\"] = CheckoutAttributesUpdatePayload;\nTypes.types[\"UserError\"] = UserError;\nTypes.types[\"Checkout\"] = Checkout;\nTypes.types[\"CheckoutLineItemConnection\"] = CheckoutLineItemConnection;\nTypes.types[\"CheckoutLineItemEdge\"] = CheckoutLineItemEdge;\nTypes.types[\"CheckoutLineItem\"] = CheckoutLineItem;\nTypes.types[\"ShippingRate\"] = ShippingRate;\nTypes.types[\"CheckoutCreatePayload\"] = CheckoutCreatePayload;\nTypes.types[\"CheckoutEmailUpdatePayload\"] = CheckoutEmailUpdatePayload;\nTypes.types[\"CheckoutLineItemsAddPayload\"] = CheckoutLineItemsAddPayload;\nTypes.types[\"CheckoutLineItemsRemovePayload\"] = CheckoutLineItemsRemovePayload;\nTypes.types[\"CheckoutLineItemsUpdatePayload\"] = CheckoutLineItemsUpdatePayload;\nTypes.queryType = \"QueryRoot\";\nTypes.mutationType = \"Mutation\";\nTypes.subscriptionType = null;\n\nfunction recursivelyFreezeObject(structure) {\n  Object.getOwnPropertyNames(structure).forEach(function (key) {\n    var value = structure[key];\n    if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n      recursivelyFreezeObject(value);\n    }\n  });\n  Object.freeze(structure);\n  return structure;\n}\n\nvar types = recursivelyFreezeObject(Types);\n\n// GraphQL\n/**\n * The JS Buy SDK Client.\n * @class\n *\n * @property {ProductResource} product The property under which product fetching methods live.\n * @property {CollectionResource} collection The property under which collection fetching methods live.\n * @property {ShopResource} shop The property under which shop fetching methods live.\n * @property {CheckoutResource} checkout The property under which shop fetching and mutating methods live.\n * @property {ImageResource} image The property under which image helper methods live.\n */\n\nvar Client = function () {\n  createClass$1(Client, null, [{\n    key: 'buildClient',\n\n\n    /**\n     * Primary entry point for building a new Client.\n     */\n    value: function buildClient(config, fetchFunction) {\n      var newConfig = new Config(config);\n      var client = new Client(newConfig, Client$2, fetchFunction);\n\n      client.config = newConfig;\n\n      return client;\n    }\n\n    /**\n     * @constructs Client\n     * @param {Config} config An instance of {@link Config} used to configure the Client.\n     */\n\n  }]);\n\n  function Client(config) {\n    var GraphQLClientClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Client$2;\n    var fetchFunction = arguments[2];\n    classCallCheck$1(this, Client);\n\n    var url = 'https://' + config.domain + '/api/graphql';\n\n    var headers = {\n      'X-SDK-Variant': 'javascript',\n      'X-SDK-Version': version,\n      'X-Shopify-Storefront-Access-Token': config.storefrontAccessToken\n    };\n\n    if (fetchFunction) {\n      headers['Content-Type'] = 'application/json';\n      headers.Accept = 'application/json';\n\n      this.graphQLClient = new GraphQLClientClass(types, {\n        fetcher: function fetcher(graphQLParams) {\n          return fetchFunction(url, {\n            body: JSON.stringify(graphQLParams),\n            method: 'POST',\n            mode: 'cors',\n            headers: headers\n          }).then(function (response) {\n            return response.json();\n          });\n        }\n      });\n    } else {\n      this.graphQLClient = new GraphQLClientClass(types, {\n        url: url,\n        fetcherOptions: { headers: headers }\n      });\n    }\n\n    this.product = new ProductResource(this.graphQLClient);\n    this.collection = new CollectionResource(this.graphQLClient);\n    this.shop = new ShopResource(this.graphQLClient);\n    this.checkout = new CheckoutResource(this.graphQLClient);\n    this.image = new ImageResource(this.graphQLClient);\n  }\n\n  /**\n   * Fetches the next page of models\n   *\n   * @example\n   * client.fetchNextPage(products).then((nextProducts) => {\n   *   // Do something with the products\n   * });\n   *\n   * @param {models} [Array] The paginated set to fetch the next page of\n   * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the type provided.\n   */\n\n\n  createClass$1(Client, [{\n    key: 'fetchNextPage',\n    value: function fetchNextPage(models) {\n      return this.graphQLClient.fetchNextPage(models);\n    }\n  }]);\n  return Client;\n}();\n\nmodule.exports = Client;\n//# sourceMappingURL=index.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/shopify-buy/index.js","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/js-cookie/src/js.cookie.js"],"sourceRoot":""}